import{o as h,c as _,a as e,r as E,b as Ae,d as At,e as de,F as Z,f as G,g as C,u as j,t as u,h as U,w as jt,n as V,i as we,j as $e,k as L,l as me,m as D,v as W,p as ne,q as te,s as Ht,x as Ve,y as ys,z as hs,A as _s}from"./vendor-6347d2e6.js";function ws(t,s){return h(),_("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor","aria-hidden":"true","data-slot":"icon"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M4.26 10.147a60.438 60.438 0 0 0-.491 6.347A48.62 48.62 0 0 1 12 20.904a48.62 48.62 0 0 1 8.232-4.41 60.46 60.46 0 0 0-.491-6.347m-15.482 0a50.636 50.636 0 0 0-2.658-.813A59.906 59.906 0 0 1 12 3.493a59.903 59.903 0 0 1 10.399 5.84c-.896.248-1.783.52-2.658.814m-15.482 0A50.717 50.717 0 0 1 12 13.489a50.702 50.702 0 0 1 7.74-3.342M6.75 15a.75.75 0 1 0 0-1.5.75.75 0 0 0 0 1.5Zm0 0v-3.675A55.378 55.378 0 0 1 12 8.443m-7.007 11.55A5.981 5.981 0 0 0 6.75 15.75v-1.5"})])}function De(t,s){return h(),_("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor","aria-hidden":"true","data-slot":"icon"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M19.5 13.5 12 21m0 0-7.5-7.5M12 21V3"})])}function ce(t,s){return h(),_("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor","aria-hidden":"true","data-slot":"icon"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M4.5 10.5 12 3m0 0 7.5 7.5M12 3v18"})])}function $s(t,s){return h(),_("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor","aria-hidden":"true","data-slot":"icon"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M3.75 6.75h16.5M3.75 12h16.5m-16.5 5.25h16.5"})])}function ke(t,s){return h(),_("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor","aria-hidden":"true","data-slot":"icon"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M14.857 17.082a23.848 23.848 0 0 0 5.454-1.31A8.967 8.967 0 0 1 18 9.75V9A6 6 0 0 0 6 9v.75a8.967 8.967 0 0 1-2.312 6.022c1.733.64 3.56 1.085 5.455 1.31m5.714 0a24.255 24.255 0 0 1-5.714 0m5.714 0a3 3 0 1 1-5.714 0"})])}function Oe(t,s){return h(),_("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor","aria-hidden":"true","data-slot":"icon"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M6.75 3v2.25M17.25 3v2.25M3 18.75V7.5a2.25 2.25 0 0 1 2.25-2.25h13.5A2.25 2.25 0 0 1 21 7.5v11.25m-18 0A2.25 2.25 0 0 0 5.25 21h13.5A2.25 2.25 0 0 0 21 18.75m-18 0v-7.5A2.25 2.25 0 0 1 5.25 9h13.5A2.25 2.25 0 0 1 21 11.25v7.5m-9-6h.008v.008H12v-.008ZM12 15h.008v.008H12V15Zm0 2.25h.008v.008H12v-.008ZM9.75 15h.008v.008H9.75V15Zm0 2.25h.008v.008H9.75v-.008ZM7.5 15h.008v.008H7.5V15Zm0 2.25h.008v.008H7.5v-.008Zm6.75-4.5h.008v.008h-.008v-.008Zm0 2.25h.008v.008h-.008V15Zm0 2.25h.008v.008h-.008v-.008Zm2.25-4.5h.008v.008H16.5v-.008Zm0 2.25h.008v.008H16.5V15Z"})])}function zt(t,s){return h(),_("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor","aria-hidden":"true","data-slot":"icon"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M3 13.125C3 12.504 3.504 12 4.125 12h2.25c.621 0 1.125.504 1.125 1.125v6.75C7.5 20.496 6.996 21 6.375 21h-2.25A1.125 1.125 0 0 1 3 19.875v-6.75ZM9.75 8.625c0-.621.504-1.125 1.125-1.125h2.25c.621 0 1.125.504 1.125 1.125v11.25c0 .621-.504 1.125-1.125 1.125h-2.25a1.125 1.125 0 0 1-1.125-1.125V8.625ZM16.5 4.125c0-.621.504-1.125 1.125-1.125h2.25C20.496 3 21 3.504 21 4.125v15.75c0 .621-.504 1.125-1.125 1.125h-2.25a1.125 1.125 0 0 1-1.125-1.125V4.125Z"})])}function Ye(t,s){return h(),_("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor","aria-hidden":"true","data-slot":"icon"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M9 12.75 11.25 15 15 9.75M21 12a9 9 0 1 1-18 0 9 9 0 0 1 18 0Z"})])}function Jt(t,s){return h(),_("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor","aria-hidden":"true","data-slot":"icon"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"m4.5 12.75 6 6 9-13.5"})])}function ks(t,s){return h(),_("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor","aria-hidden":"true","data-slot":"icon"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M15.75 19.5 8.25 12l7.5-7.5"})])}function Cs(t,s){return h(),_("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor","aria-hidden":"true","data-slot":"icon"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"m8.25 4.5 7.5 7.5-7.5 7.5"})])}function mt(t,s){return h(),_("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor","aria-hidden":"true","data-slot":"icon"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M12 6v6h4.5m4.5 0a9 9 0 1 1-18 0 9 9 0 0 1 18 0Z"})])}function As(t,s){return h(),_("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor","aria-hidden":"true","data-slot":"icon"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M4.5 12a7.5 7.5 0 0 0 15 0m-15 0a7.5 7.5 0 1 1 15 0m-15 0H3m16.5 0H21m-1.5 0H12m-8.457 3.077 1.41-.513m14.095-5.13 1.41-.513M5.106 17.785l1.15-.964m11.49-9.642 1.149-.964M7.501 19.795l.75-1.3m7.5-12.99.75-1.3m-6.063 16.658.26-1.477m2.605-14.772.26-1.477m0 17.726-.26-1.477M10.698 4.614l-.26-1.477M16.5 19.794l-.75-1.299M7.5 4.205 12 12m6.894 5.785-1.149-.964M6.256 7.178l-1.15-.964m15.352 8.864-1.41-.513M4.954 9.435l-1.41-.514M12.002 12l-3.75 6.495"})])}function Se(t,s){return h(),_("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor","aria-hidden":"true","data-slot":"icon"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M12 6v12m-3-2.818.879.659c1.171.879 3.07.879 4.242 0 1.172-.879 1.172-2.303 0-3.182C13.536 12.219 12.768 12 12 12c-.725 0-1.45-.22-2.003-.659-1.106-.879-1.106-2.303 0-3.182s2.9-.879 4.006 0l.415.33M21 12a9 9 0 1 1-18 0 9 9 0 0 1 18 0Z"})])}function Te(t,s){return h(),_("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor","aria-hidden":"true","data-slot":"icon"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M12 9v3.75m-9.303 3.376c-.866 1.5.217 3.374 1.948 3.374h14.71c1.73 0 2.813-1.874 1.948-3.374L13.949 3.378c-.866-1.5-3.032-1.5-3.898 0L2.697 16.126ZM12 15.75h.007v.008H12v-.008Z"})])}function ft(t,s){return h(),_("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor","aria-hidden":"true","data-slot":"icon"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M2.036 12.322a1.012 1.012 0 0 1 0-.639C3.423 7.51 7.36 4.5 12 4.5c4.638 0 8.573 3.007 9.963 7.178.07.207.07.431 0 .639C20.577 16.49 16.64 19.5 12 19.5c-4.638 0-8.573-3.007-9.963-7.178Z"}),e("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M15 12a3 3 0 1 1-6 0 3 3 0 0 1 6 0Z"})])}function js(t,s){return h(),_("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor","aria-hidden":"true","data-slot":"icon"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"m2.25 12 8.954-8.955c.44-.439 1.152-.439 1.591 0L21.75 12M4.5 9.75v10.125c0 .621.504 1.125 1.125 1.125H9.75v-4.875c0-.621.504-1.125 1.125-1.125h2.25c.621 0 1.125.504 1.125 1.125V21h4.125c.621 0 1.125-.504 1.125-1.125V9.75M8.25 21h8.25"})])}function Ss(t,s){return h(),_("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor","aria-hidden":"true","data-slot":"icon"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M15 10.5a3 3 0 1 1-6 0 3 3 0 0 1 6 0Z"}),e("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M19.5 10.5c0 7.142-7.5 11.25-7.5 11.25S4.5 17.642 4.5 10.5a7.5 7.5 0 1 1 15 0Z"})])}function Zt(t,s){return h(),_("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor","aria-hidden":"true","data-slot":"icon"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M10.34 15.84c-.688-.06-1.386-.09-2.09-.09H7.5a4.5 4.5 0 1 1 0-9h.75c.704 0 1.402-.03 2.09-.09m0 9.18c.253.962.584 1.892.985 2.783.247.55.06 1.21-.463 1.511l-.657.38c-.551.318-1.26.117-1.527-.461a20.845 20.845 0 0 1-1.44-4.282m3.102.069a18.03 18.03 0 0 1-.59-4.59c0-1.586.205-3.124.59-4.59m0 9.18a23.848 23.848 0 0 1 8.835 2.535M10.34 6.66a23.847 23.847 0 0 0 8.835-2.535m0 0A23.74 23.74 0 0 0 18.795 3m.38 1.125a23.91 23.91 0 0 1 1.014 5.395m-1.014 8.855c-.118.38-.245.754-.38 1.125m.38-1.125a23.91 23.91 0 0 0 1.014-5.395m0-3.46c.495.413.811 1.035.811 1.73 0 .695-.316 1.317-.811 1.73m0-3.46a24.347 24.347 0 0 1 0 3.46"})])}function Ts(t,s){return h(),_("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor","aria-hidden":"true","data-slot":"icon"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"m9 9 10.5-3m0 6.553v3.75a2.25 2.25 0 0 1-1.632 2.163l-1.32.377a1.803 1.803 0 1 1-.99-3.467l2.31-.66a2.25 2.25 0 0 0 1.632-2.163Zm0 0V2.25L9 5.25v10.303m0 0v3.75a2.25 2.25 0 0 1-1.632 2.163l-1.32.377a1.803 1.803 0 0 1-.99-3.467l2.31-.66A2.25 2.25 0 0 0 9 15.553Z"})])}function Ue(t,s){return h(),_("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor","aria-hidden":"true","data-slot":"icon"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"m16.862 4.487 1.687-1.688a1.875 1.875 0 1 1 2.652 2.652L6.832 19.82a4.5 4.5 0 0 1-1.897 1.13l-2.685.8.8-2.685a4.5 4.5 0 0 1 1.13-1.897L16.863 4.487Zm0 0L19.5 7.125"})])}function xe(t,s){return h(),_("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor","aria-hidden":"true","data-slot":"icon"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M12 4.5v15m7.5-7.5h-15"})])}function Gt(t,s){return h(),_("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor","aria-hidden":"true","data-slot":"icon"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"m14.74 9-.346 9m-4.788 0L9.26 9m9.968-3.21c.342.052.682.107 1.022.166m-1.022-.165L18.16 19.673a2.25 2.25 0 0 1-2.244 2.077H8.084a2.25 2.25 0 0 1-2.244-2.077L4.772 5.79m14.456 0a48.108 48.108 0 0 0-3.478-.397m-12 .562c.34-.059.68-.114 1.022-.165m0 0a48.11 48.11 0 0 1 3.478-.397m7.5 0v-.916c0-1.18-.91-2.164-2.09-2.201a51.964 51.964 0 0 0-3.32 0c-1.18.037-2.09 1.022-2.09 2.201v.916m7.5 0a48.667 48.667 0 0 0-7.5 0"})])}function ze(t,s){return h(),_("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor","aria-hidden":"true","data-slot":"icon"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M18 18.72a9.094 9.094 0 0 0 3.741-.479 3 3 0 0 0-4.682-2.72m.94 3.198.001.031c0 .225-.012.447-.037.666A11.944 11.944 0 0 1 12 21c-2.17 0-4.207-.576-5.963-1.584A6.062 6.062 0 0 1 6 18.719m12 0a5.971 5.971 0 0 0-.941-3.197m0 0A5.995 5.995 0 0 0 12 12.75a5.995 5.995 0 0 0-5.058 2.772m0 0a3 3 0 0 0-4.681 2.72 8.986 8.986 0 0 0 3.74.477m.94-3.197a5.971 5.971 0 0 0-.94 3.197M15 6.75a3 3 0 1 1-6 0 3 3 0 0 1 6 0Zm6 3a2.25 2.25 0 1 1-4.5 0 2.25 2.25 0 0 1 4.5 0Zm-13.5 0a2.25 2.25 0 1 1-4.5 0 2.25 2.25 0 0 1 4.5 0Z"})])}function Fe(t,s){return h(),_("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor","aria-hidden":"true","data-slot":"icon"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M15 19.128a9.38 9.38 0 0 0 2.625.372 9.337 9.337 0 0 0 4.121-.952 4.125 4.125 0 0 0-7.533-2.493M15 19.128v-.003c0-1.113-.285-2.16-.786-3.07M15 19.128v.106A12.318 12.318 0 0 1 8.624 21c-2.331 0-4.512-.645-6.374-1.766l-.001-.109a6.375 6.375 0 0 1 11.964-3.07M12 6.375a3.375 3.375 0 1 1-6.75 0 3.375 3.375 0 0 1 6.75 0Zm8.25 2.25a2.625 2.625 0 1 1-5.25 0 2.625 2.625 0 0 1 5.25 0Z"})])}function je(t,s){return h(),_("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor","aria-hidden":"true","data-slot":"icon"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"m9.75 9.75 4.5 4.5m0-4.5-4.5 4.5M21 12a9 9 0 1 1-18 0 9 9 0 0 1 18 0Z"})])}function Ne(t,s){return h(),_("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor","aria-hidden":"true","data-slot":"icon"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M6 18 18 6M6 6l12 12"})])}const Rs=(t,s)=>{const n=t.__vccOpts||t;for(const[o,r]of s)n[o]=r;return n},Es={id:"app",class:"min-h-screen bg-gradient-to-br from-blue-50 to-green-50"},Ms={class:"nav-modern"},Ps={class:"container-modern"},Ds={class:"flex items-center justify-between h-16"},Os={class:"hidden md:flex items-center space-x-1"},Fs={class:"flex items-center space-x-4"},Ns={class:"relative p-2 text-gray-600 hover:text-gray-800 hover:bg-gray-100 rounded-lg transition-colors"},Us={key:0,class:"absolute -top-1 -right-1 bg-red-500 text-white text-xs rounded-full w-5 h-5 flex items-center justify-center"},Bs={key:0,class:"md:hidden py-4 border-t border-gray-200"},Ls={class:"flex flex-col space-y-2"},qs={class:"container-modern py-8"},Is={class:"toast-container"},Vs={class:"flex items-center justify-between"},Hs={class:"flex items-center"},zs=["onClick"],Js={__name:"App",setup(t){const s=E(!1),n=E(3),o=E([]),r=[{name:"dashboard",path:"/",label:"Dashboard",icon:js},{name:"membres",path:"/membres",label:"Membres",icon:Fe},{name:"cotisations",path:"/cotisations",label:"Cotisations",icon:Se},{name:"activites",path:"/activites",label:"Activités",icon:Oe},{name:"evenements",path:"/evenements",label:"Événements",icon:Zt},{name:"alertes",path:"/alertes",label:"Alertes",icon:ke}],i=p=>{switch(p){case"success":return Ye;case"error":return je;case"warning":return Te;default:return ke}},a=p=>{o.value=o.value.filter(x=>x.id!==p)},d=(p,x="info")=>{const m=Date.now();o.value.push({id:m,message:p,type:x}),setTimeout(()=>{a(m)},5e3)};return window.addToast=d,Ae(()=>{setTimeout(()=>{d("Bienvenue dans la plateforme Gestion Kourel !","success")},1e3)}),(p,x)=>{const m=At("router-link"),w=At("router-view");return h(),_("div",Es,[e("nav",Ms,[e("div",Ps,[e("div",Ds,[x[3]||(x[3]=de('<div class="flex items-center space-x-4" data-v-d0be20b6><div class="flex items-center space-x-2" data-v-d0be20b6><div class="w-8 h-8 bg-gradient-to-r from-blue-500 to-green-500 rounded-lg flex items-center justify-center" data-v-d0be20b6><span class="text-white font-bold text-sm" data-v-d0be20b6>DK</span></div><h1 class="text-xl font-bold text-gray-800" data-v-d0be20b6>Gestion Kourel</h1></div></div>',1)),e("div",Os,[(h(),_(Z,null,G(r,A=>C(m,{key:A.name,to:A.path,class:V(["nav-item",{active:p.$route.name===A.name}])},{default:jt(()=>[(h(),we($e(A.icon),{class:"w-5 h-5 mr-2"})),L(" "+u(A.label),1)]),_:2},1032,["to","class"])),64))]),e("div",Fs,[e("button",Ns,[C(j(ke),{class:"w-6 h-6"}),n.value>0?(h(),_("span",Us,u(n.value),1)):U("",!0)]),x[2]||(x[2]=e("div",{class:"flex items-center space-x-2"},[e("img",{src:"https://images.unsplash.com/photo-1472099645785-5658abf4ff4e?w=32&h=32&fit=crop&crop=face",alt:"Profil",class:"w-8 h-8 rounded-full"}),e("span",{class:"text-sm font-medium text-gray-700"},"Admin")],-1))]),e("button",{onClick:x[0]||(x[0]=A=>s.value=!s.value),class:"md:hidden p-2 text-gray-600"},[C(j($s),{class:"w-6 h-6"})])]),s.value?(h(),_("div",Bs,[e("div",Ls,[(h(),_(Z,null,G(r,A=>C(m,{key:A.name,to:A.path,class:"flex items-center px-4 py-2 text-gray-700 hover:bg-gray-100 rounded-lg",onClick:x[1]||(x[1]=I=>s.value=!1)},{default:jt(()=>[(h(),we($e(A.icon),{class:"w-5 h-5 mr-3"})),L(" "+u(A.label),1)]),_:2},1032,["to"])),64))])])):U("",!0)])]),e("main",qs,[C(w)]),e("div",Is,[(h(!0),_(Z,null,G(o.value,A=>(h(),_("div",{key:A.id,class:V([["toast",A.type],"animate-slide-in-right"])},[e("div",Vs,[e("div",Hs,[(h(),we($e(i(A.type)),{class:"w-5 h-5 mr-3"})),e("span",null,u(A.message),1)]),e("button",{onClick:I=>a(A.id),class:"ml-4 text-gray-400 hover:text-gray-600"},[C(j(Ne),{class:"w-4 h-4"})],8,zs)])],2))),128))])])}}},Zs=Rs(Js,[["__scopeId","data-v-d0be20b6"]]),Gs={class:"space-y-8"},Ws={class:"flex items-center justify-between"},Ks={class:"flex items-center space-x-4"},Xs={class:"btn-modern"},Ys={class:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6"},Qs={class:"kpi-card hover-lift"},en={class:"flex items-center justify-between"},tn={class:"kpi-value"},sn={class:"kpi-change positive"},nn={class:"w-12 h-12 bg-blue-100 rounded-lg flex items-center justify-center"},on={class:"kpi-card hover-lift"},rn={class:"flex items-center justify-between"},an={class:"kpi-value"},ln={class:"kpi-change positive"},un={class:"w-12 h-12 bg-green-100 rounded-lg flex items-center justify-center"},dn={class:"kpi-card hover-lift"},cn={class:"flex items-center justify-between"},pn={class:"kpi-value"},mn={class:"kpi-change positive"},fn={class:"w-12 h-12 bg-yellow-100 rounded-lg flex items-center justify-center"},gn={class:"kpi-card hover-lift"},vn={class:"flex items-center justify-between"},bn={class:"kpi-value"},xn={class:"kpi-change negative"},yn={class:"w-12 h-12 bg-red-100 rounded-lg flex items-center justify-center"},hn={class:"grid grid-cols-1 lg:grid-cols-2 gap-8"},_n={class:"card-modern"},wn={class:"p-6"},$n={class:"h-64 flex items-center justify-center bg-gray-50 rounded-lg"},kn={class:"text-center"},Cn={class:"card-modern"},An={class:"p-6"},jn={class:"space-y-4"},Sn={class:"w-10 h-10 bg-blue-100 rounded-lg flex items-center justify-center"},Tn={class:"flex-1"},Rn={class:"font-medium text-gray-900"},En={class:"text-sm text-gray-600"},Mn={class:"text-right"},Pn={class:"grid grid-cols-1 lg:grid-cols-2 gap-8"},Dn={class:"card-modern"},On={class:"p-6"},Fn={class:"space-y-3"},Nn=["src","alt"],Un={class:"flex-1"},Bn={class:"font-medium text-gray-900"},Ln={class:"text-sm text-gray-600"},qn={class:"text-xs text-gray-500"},In={class:"card-modern"},Vn={class:"p-6"},Hn={class:"space-y-3"},zn={class:"flex-1"},Jn={class:"font-medium text-gray-900"},Zn={class:"text-sm text-gray-600"},Gn={class:"text-xs text-gray-500 mt-1"},Wn={__name:"Dashboard",setup(t){const s=E({totalMembres:156,tauxPresence:87.5,cotisationsCollectees:245e4,alertesActives:7}),n=E([{id:1,nom:"Répétition Chorale",type:"Répétition",date_debut:"2025-01-15T18:00:00",statut:"confirme"},{id:2,nom:"Goudi Aldiouma",type:"Goudi Aldiouma",date_debut:"2025-01-16T19:30:00",statut:"planifie"},{id:3,nom:"Formation Déclamation",type:"Formation",date_debut:"2025-01-17T16:00:00",statut:"en_cours"}]),o=E([{id:1,nom:"Fall",prenom:"Moussa",photo_url:null,profession:"Ingénieur",date_adhesion:"2025-01-10"},{id:2,nom:"Diop",prenom:"Aminata",photo_url:null,profession:"Enseignante",date_adhesion:"2025-01-12"},{id:3,nom:"Ba",prenom:"Ibrahima",photo_url:null,profession:"Médecin",date_adhesion:"2025-01-14"}]),r=E([{id:1,titre:"Absence répétitive",message:"Moussa Fall a 3 absences consécutives",niveau_urgence:"warning",created_at:"2025-01-15T10:30:00"},{id:2,titre:"Cotisation en retard",message:"5 membres ont des cotisations en retard",niveau_urgence:"error",created_at:"2025-01-15T09:15:00"},{id:3,titre:"Événement majeur",message:"Préparation du Magal dans 2 semaines",niveau_urgence:"info",created_at:"2025-01-14T16:45:00"}]),i=m=>new Intl.NumberFormat("fr-FR",{style:"currency",currency:"XOF",minimumFractionDigits:0}).format(m),a=m=>new Date(m).toLocaleDateString("fr-FR",{day:"numeric",month:"short",year:"numeric"}),d=m=>({planifie:"bg-gray-100 text-gray-800",confirme:"bg-blue-100 text-blue-800",en_cours:"bg-green-100 text-green-800",termine:"bg-gray-100 text-gray-800",annule:"bg-red-100 text-red-800"})[m]||"bg-gray-100 text-gray-800",p=m=>{switch(m){case"critical":return je;case"error":return je;case"warning":return Te;case"info":return ke;default:return ke}},x=m=>({critical:"bg-red-100 text-red-600",error:"bg-red-100 text-red-600",warning:"bg-yellow-100 text-yellow-600",info:"bg-blue-100 text-blue-600"})[m]||"bg-gray-100 text-gray-600";return E(o.value.map(m=>({...m,nom_complet:`${m.prenom} ${m.nom}`}))),Ae(()=>{console.log("Dashboard initialisé")}),(m,w)=>(h(),_("div",Gs,[e("div",Ws,[w[1]||(w[1]=e("div",null,[e("h1",{class:"text-3xl font-bold text-gray-900"},"Dashboard"),e("p",{class:"text-gray-600 mt-2"},"Vue d'ensemble de votre dahira/kourel")],-1)),e("div",Ks,[e("button",Xs,[C(j(xe),{class:"w-5 h-5 mr-2"}),w[0]||(w[0]=L(" Nouvelle activité ",-1))])])]),e("div",Ys,[e("div",Qs,[e("div",en,[e("div",null,[w[3]||(w[3]=e("p",{class:"text-sm font-medium text-gray-600"},"Total Membres",-1)),e("p",tn,u(s.value.totalMembres),1),e("div",sn,[C(j(ce),{class:"w-4 h-4"}),w[2]||(w[2]=L(" +12% ce mois ",-1))])]),e("div",nn,[C(j(Fe),{class:"w-6 h-6 text-blue-600"})])])]),e("div",on,[e("div",rn,[e("div",null,[w[5]||(w[5]=e("p",{class:"text-sm font-medium text-gray-600"},"Taux de Présence",-1)),e("p",an,u(s.value.tauxPresence)+"%",1),e("div",ln,[C(j(ce),{class:"w-4 h-4"}),w[4]||(w[4]=L(" +5% cette semaine ",-1))])]),e("div",un,[C(j(Ye),{class:"w-6 h-6 text-green-600"})])])]),e("div",dn,[e("div",cn,[e("div",null,[w[7]||(w[7]=e("p",{class:"text-sm font-medium text-gray-600"},"Cotisations Collectées",-1)),e("p",pn,u(i(s.value.cotisationsCollectees)),1),e("div",mn,[C(j(ce),{class:"w-4 h-4"}),w[6]||(w[6]=L(" +8% ce mois ",-1))])]),e("div",fn,[C(j(Se),{class:"w-6 h-6 text-yellow-600"})])])]),e("div",gn,[e("div",vn,[e("div",null,[w[9]||(w[9]=e("p",{class:"text-sm font-medium text-gray-600"},"Alertes Actives",-1)),e("p",bn,u(s.value.alertesActives),1),e("div",xn,[C(j(De),{class:"w-4 h-4"}),w[8]||(w[8]=L(" -3 cette semaine ",-1))])]),e("div",yn,[C(j(Te),{class:"w-6 h-6 text-red-600"})])])])]),e("div",hn,[e("div",_n,[e("div",wn,[w[12]||(w[12]=e("h3",{class:"text-lg font-semibold text-gray-900 mb-4"},"Évolution des Présences",-1)),e("div",$n,[e("div",kn,[C(j(zt),{class:"w-12 h-12 text-gray-400 mx-auto mb-2"}),w[10]||(w[10]=e("p",{class:"text-gray-500"},"Graphique des présences",-1)),w[11]||(w[11]=e("p",{class:"text-sm text-gray-400"},"Intégration Chart.js en cours",-1))])])])]),e("div",Cn,[e("div",An,[w[13]||(w[13]=e("h3",{class:"text-lg font-semibold text-gray-900 mb-4"},"Activités Récentes",-1)),e("div",jn,[(h(!0),_(Z,null,G(n.value,A=>(h(),_("div",{key:A.id,class:"flex items-center space-x-4 p-3 bg-gray-50 rounded-lg"},[e("div",Sn,[C(j(Oe),{class:"w-5 h-5 text-blue-600"})]),e("div",Tn,[e("p",Rn,u(A.nom),1),e("p",En,u(A.type)+" • "+u(a(A.date_debut)),1)]),e("div",Mn,[e("span",{class:V([d(A.statut),"px-2 py-1 rounded-full text-xs font-medium"])},u(A.statut),3)])]))),128))])])])]),e("div",Pn,[e("div",Dn,[e("div",On,[w[14]||(w[14]=e("h3",{class:"text-lg font-semibold text-gray-900 mb-4"},"Nouveaux Membres",-1)),e("div",Fn,[(h(!0),_(Z,null,G(o.value,A=>(h(),_("div",{key:A.id,class:"flex items-center space-x-3"},[e("img",{src:A.photo_url||"https://images.unsplash.com/photo-1472099645785-5658abf4ff4e?w=40&h=40&fit=crop&crop=face",alt:A.nom_complet,class:"w-10 h-10 rounded-full"},null,8,Nn),e("div",Un,[e("p",Bn,u(A.nom_complet),1),e("p",Ln,u(A.profession||"Membre"),1)]),e("span",qn,u(a(A.date_adhesion)),1)]))),128))])])]),e("div",In,[e("div",Vn,[w[15]||(w[15]=e("h3",{class:"text-lg font-semibold text-gray-900 mb-4"},"Alertes Récentes",-1)),e("div",Hn,[(h(!0),_(Z,null,G(r.value,A=>(h(),_("div",{key:A.id,class:"flex items-start space-x-3 p-3 bg-gray-50 rounded-lg"},[e("div",{class:V([x(A.niveau_urgence),"w-8 h-8 rounded-lg flex items-center justify-center flex-shrink-0"])},[(h(),we($e(p(A.niveau_urgence)),{class:"w-4 h-4"}))],2),e("div",zn,[e("p",Jn,u(A.titre),1),e("p",Zn,u(A.message),1),e("p",Gn,u(a(A.created_at)),1)])]))),128))])])])])]))}},Kn={class:"space-y-8"},Xn={class:"flex items-center justify-between"},Yn={class:"flex items-center space-x-4"},Qn={class:"card-modern p-6"},eo={class:"grid grid-cols-1 md:grid-cols-4 gap-4"},to={class:"card-modern overflow-hidden"},so={class:"overflow-x-auto"},no={class:"table-modern w-full"},oo={class:"py-4"},ro={class:"flex items-center space-x-3"},io=["src","alt"],ao={class:"font-medium text-gray-900"},lo={class:"text-sm text-gray-600"},uo={class:"py-4"},co={class:"text-sm text-gray-900"},po={class:"text-sm text-gray-600"},mo={class:"py-4"},fo={class:"py-4"},go={class:"text-sm text-gray-900"},vo={class:"py-4"},bo={class:"flex items-center space-x-2"},xo={class:"w-16 bg-gray-200 rounded-full h-2"},yo={class:"text-sm text-gray-600"},ho={class:"py-4"},_o={class:"text-sm"},wo={class:"text-gray-900"},$o={class:"text-gray-600"},ko={class:"py-4"},Co={class:"flex items-center justify-end space-x-2"},Ao=["onClick"],jo=["onClick"],So=["onClick"],To={class:"px-6 py-4 border-t border-gray-200"},Ro={class:"flex items-center justify-between"},Eo={class:"text-sm text-gray-700"},Mo={class:"flex items-center space-x-2"},Po=["disabled"],Do={class:"px-3 py-1 text-sm text-gray-700"},Oo=["disabled"],Fo={class:"text-lg font-semibold text-gray-900 mb-6"},No={class:"grid grid-cols-1 md:grid-cols-2 gap-4"},Uo={class:"grid grid-cols-1 md:grid-cols-2 gap-4"},Bo={class:"space-y-3"},Lo={class:"space-y-3"},qo={key:0,class:"relative inline-block"},Io=["src"],Vo={class:"grid grid-cols-1 md:grid-cols-2 gap-4"},Ho={class:"flex items-center justify-end space-x-4 pt-6"},zo={type:"submit",class:"btn-modern"},Jo=10,Zo={__name:"Membres",setup(t){const s=E(!1),n=E(null),o=E(1),r=E(null),i=E(null),a=E(null),d=E({recherche:"",statut:"",role:""}),p=E({nom:"",prenom:"",email:"",telephone:"",profession:"",statut:"actif",photo_url:null}),x=E([{id:1,nom:"Fall",prenom:"Moussa",email:"moussa.fall@email.com",telephone:"+221 77 123 45 67",profession:"Ingénieur",statut:"actif",role:{nom:"Administrateur"},taux_presence:95,cotisations_payees:3,cotisations_totales:3,montant_restant:0,photo_url:null},{id:2,nom:"Diop",prenom:"Aminata",email:"aminata.diop@email.com",telephone:"+221 78 234 56 78",profession:"Enseignante",statut:"actif",role:{nom:"Trésorier"},taux_presence:87,cotisations_payees:2,cotisations_totales:3,montant_restant:5e4,photo_url:null},{id:3,nom:"Ba",prenom:"Ibrahima",email:"ibrahima.ba@email.com",telephone:"+221 76 345 67 89",profession:"Médecin",statut:"actif",role:{nom:"Membre"},taux_presence:78,cotisations_payees:1,cotisations_totales:3,montant_restant:1e5,photo_url:null}]),m=me(()=>{let M=x.value;if(d.value.recherche){const y=d.value.recherche.toLowerCase();M=M.filter(c=>c.nom.toLowerCase().includes(y)||c.prenom.toLowerCase().includes(y)||c.email.toLowerCase().includes(y))}return d.value.statut&&(M=M.filter(y=>y.statut===d.value.statut)),d.value.role&&(M=M.filter(y=>{var c;return((c=y.role)==null?void 0:c.nom)===d.value.role})),M=M.map(y=>({...y,nom_complet:`${y.prenom} ${y.nom}`})),M}),w=me(()=>Math.ceil(m.value.length/Jo)),A=M=>new Intl.NumberFormat("fr-FR",{style:"currency",currency:"XOF",minimumFractionDigits:0}).format(M),I=M=>({actif:"bg-green-100 text-green-800",inactif:"bg-gray-100 text-gray-800",suspendu:"bg-yellow-100 text-yellow-800",ancien:"bg-red-100 text-red-800"})[M]||"bg-gray-100 text-gray-800",$=M=>M>=90?"bg-green-500":M>=70?"bg-yellow-500":"bg-red-500",R=M=>{const y=M.target.files[0];if(y){if(y.size>2*1024*1024){alert("La taille de l'image ne doit pas dépasser 2MB"),M.target.value="";return}if(!["image/jpeg","image/jpg","image/png","image/gif","image/webp"].includes(y.type)){alert("Seuls les formats JPEG, PNG, GIF et WebP sont autorisés"),M.target.value="";return}a.value=y;const K=new FileReader;K.onload=ee=>{i.value=ee.target.result},K.readAsDataURL(y)}},S=()=>{a.value=null,i.value=null,r.value&&(r.value.value="")},q=()=>{n.value=null,p.value={nom:"",prenom:"",email:"",telephone:"",profession:"",statut:"actif",photo_url:null},S(),s.value=!0},z=M=>{n.value=M,p.value={...M},M.photo_url?i.value=M.photo_url:S(),s.value=!0},B=()=>{s.value=!1,n.value=null,S()},H=async()=>{try{let M=null;if(a.value){const y=new FormData;y.append("photo",a.value),y.append("nom",p.value.nom),y.append("prenom",p.value.prenom),y.append("email",p.value.email),y.append("telephone",p.value.telephone),y.append("profession",p.value.profession),y.append("statut",p.value.statut),M=URL.createObjectURL(a.value)}else i.value&&!a.value&&(M=i.value);if(n.value){const y=x.value.findIndex(c=>c.id===n.value.id);y!==-1&&(x.value[y]={...x.value[y],...p.value,photo_url:M})}else{const y={id:Date.now(),...p.value,role:{nom:"Membre"},taux_presence:0,cotisations_payees:0,cotisations_totales:0,montant_restant:0,photo_url:M};x.value.push(y)}B(),window.addToast("Membre sauvegardé avec succès !","success")}catch(M){console.error("Erreur lors de la sauvegarde:",M),window.addToast("Erreur lors de la sauvegarde du membre","error")}},X=M=>{if(confirm(`Êtes-vous sûr de vouloir supprimer ${M.nom_complet} ?`)){const y=x.value.findIndex(c=>c.id===M.id);y!==-1&&(x.value.splice(y,1),window.addToast("Membre supprimé avec succès !","success"))}},se=M=>{window.addToast(`Profil de ${M.nom_complet}`,"info")},J=()=>{d.value={recherche:"",statut:"",role:""}},ie=()=>{o.value>1&&o.value--},ae=()=>{o.value<w.value&&o.value++};return Ae(()=>{console.log("Composant Membres initialisé")}),(M,y)=>(h(),_("div",Kn,[e("div",Xn,[y[11]||(y[11]=e("div",null,[e("h1",{class:"text-3xl font-bold text-gray-900"},"Gestion des Membres"),e("p",{class:"text-gray-600 mt-2"},"Gérez les membres de votre dahira/kourel")],-1)),e("div",Yn,[e("button",{class:"btn-modern",onClick:q},[C(j(xe),{class:"w-5 h-5 mr-2"}),y[10]||(y[10]=L(" Ajouter un membre ",-1))])])]),e("div",Qn,[e("div",eo,[e("div",null,[y[12]||(y[12]=e("label",{class:"block text-sm font-medium text-gray-700 mb-2"},"Recherche",-1)),D(e("input",{"onUpdate:modelValue":y[0]||(y[0]=c=>d.value.recherche=c),type:"text",placeholder:"Nom, prénom, email...",class:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent"},null,512),[[W,d.value.recherche]])]),e("div",null,[y[14]||(y[14]=e("label",{class:"block text-sm font-medium text-gray-700 mb-2"},"Statut",-1)),D(e("select",{"onUpdate:modelValue":y[1]||(y[1]=c=>d.value.statut=c),class:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent"},[...y[13]||(y[13]=[de('<option value="">Tous les statuts</option><option value="actif">Actif</option><option value="inactif">Inactif</option><option value="suspendu">Suspendu</option><option value="ancien">Ancien</option>',5)])],512),[[ne,d.value.statut]])]),e("div",null,[y[16]||(y[16]=e("label",{class:"block text-sm font-medium text-gray-700 mb-2"},"Rôle",-1)),D(e("select",{"onUpdate:modelValue":y[2]||(y[2]=c=>d.value.role=c),class:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent"},[...y[15]||(y[15]=[de('<option value="">Tous les rôles</option><option value="admin">Administrateur</option><option value="tresorier">Trésorier</option><option value="responsable">Responsable</option><option value="membre">Membre</option>',5)])],512),[[ne,d.value.role]])]),e("div",{class:"flex items-end"},[e("button",{onClick:J,class:"w-full px-4 py-2 border border-gray-300 rounded-lg hover:bg-gray-50 transition-colors"}," Réinitialiser ")])])]),e("div",to,[e("div",so,[e("table",no,[y[17]||(y[17]=e("thead",null,[e("tr",null,[e("th",{class:"text-left"},"Membre"),e("th",{class:"text-left"},"Contact"),e("th",{class:"text-left"},"Statut"),e("th",{class:"text-left"},"Rôle"),e("th",{class:"text-left"},"Taux Présence"),e("th",{class:"text-left"},"Cotisations"),e("th",{class:"text-right"},"Actions")])],-1)),e("tbody",null,[(h(!0),_(Z,null,G(m.value,c=>{var K;return h(),_("tr",{key:c.id,class:"hover:bg-gray-50"},[e("td",oo,[e("div",ro,[e("img",{src:c.photo_url||"https://images.unsplash.com/photo-1472099645785-5658abf4ff4e?w=40&h=40&fit=crop&crop=face",alt:c.nom_complet,class:"w-10 h-10 rounded-full"},null,8,io),e("div",null,[e("p",ao,u(c.nom_complet),1),e("p",lo,u(c.profession||"Non spécifié"),1)])])]),e("td",uo,[e("div",null,[e("p",co,u(c.email),1),e("p",po,u(c.telephone||"Non renseigné"),1)])]),e("td",mo,[e("span",{class:V([I(c.statut),"px-2 py-1 rounded-full text-xs font-medium"])},u(c.statut),3)]),e("td",fo,[e("span",go,u(((K=c.role)==null?void 0:K.nom)||"Membre"),1)]),e("td",vo,[e("div",bo,[e("div",xo,[e("div",{class:V([$(c.taux_presence),"h-2 rounded-full transition-all duration-300"]),style:Ht({width:`${c.taux_presence}%`})},null,6)]),e("span",yo,u(c.taux_presence)+"%",1)])]),e("td",ho,[e("div",_o,[e("p",wo,u(c.cotisations_payees)+"/"+u(c.cotisations_totales),1),e("p",$o,u(A(c.montant_restant)),1)])]),e("td",ko,[e("div",Co,[e("button",{onClick:ee=>se(c),class:"p-2 text-gray-400 hover:text-blue-600 transition-colors",title:"Voir le profil"},[C(j(ft),{class:"w-4 h-4"})],8,Ao),e("button",{onClick:ee=>z(c),class:"p-2 text-gray-400 hover:text-green-600 transition-colors",title:"Éditer"},[C(j(Ue),{class:"w-4 h-4"})],8,jo),e("button",{onClick:ee=>X(c),class:"p-2 text-gray-400 hover:text-red-600 transition-colors",title:"Supprimer"},[C(j(Gt),{class:"w-4 h-4"})],8,So)])])])}),128))])])]),e("div",To,[e("div",Ro,[e("div",Eo," Affichage de "+u(m.value.length)+" sur "+u(x.value.length)+" membres ",1),e("div",Mo,[e("button",{onClick:ie,disabled:o.value===1,class:"px-3 py-1 border border-gray-300 rounded-lg disabled:opacity-50 disabled:cursor-not-allowed hover:bg-gray-50"}," Précédent ",8,Po),e("span",Do," Page "+u(o.value)+" sur "+u(w.value),1),e("button",{onClick:ae,disabled:o.value===w.value,class:"px-3 py-1 border border-gray-300 rounded-lg disabled:opacity-50 disabled:cursor-not-allowed hover:bg-gray-50"}," Suivant ",8,Oo)])])])]),s.value?(h(),_("div",{key:0,class:"modal-overlay",onClick:B},[e("div",{class:"modal-content",onClick:y[9]||(y[9]=te(()=>{},["stop"]))},[e("h3",Fo,u(n.value?"Modifier le membre":"Ajouter un nouveau membre"),1),e("form",{onSubmit:te(H,["prevent"]),class:"space-y-4"},[e("div",No,[e("div",null,[y[18]||(y[18]=e("label",{class:"block text-sm font-medium text-gray-700 mb-2"},"Nom *",-1)),D(e("input",{"onUpdate:modelValue":y[3]||(y[3]=c=>p.value.nom=c),type:"text",required:"",class:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent"},null,512),[[W,p.value.nom]])]),e("div",null,[y[19]||(y[19]=e("label",{class:"block text-sm font-medium text-gray-700 mb-2"},"Prénom *",-1)),D(e("input",{"onUpdate:modelValue":y[4]||(y[4]=c=>p.value.prenom=c),type:"text",required:"",class:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent"},null,512),[[W,p.value.prenom]])])]),e("div",Uo,[e("div",null,[y[20]||(y[20]=e("label",{class:"block text-sm font-medium text-gray-700 mb-2"},"Email *",-1)),D(e("input",{"onUpdate:modelValue":y[5]||(y[5]=c=>p.value.email=c),type:"email",required:"",class:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent"},null,512),[[W,p.value.email]])]),e("div",null,[y[21]||(y[21]=e("label",{class:"block text-sm font-medium text-gray-700 mb-2"},"Téléphone",-1)),D(e("input",{"onUpdate:modelValue":y[6]||(y[6]=c=>p.value.telephone=c),type:"tel",class:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent"},null,512),[[W,p.value.telephone]])])]),e("div",Bo,[y[22]||(y[22]=e("label",{class:"block text-sm font-medium text-gray-700 mb-2"},"Photo de profil",-1)),e("div",Lo,[e("input",{ref_key:"photoInput",ref:r,type:"file",accept:"image/*",onChange:R,class:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent file:mr-4 file:py-2 file:px-4 file:rounded-lg file:border-0 file:text-sm file:font-semibold file:bg-blue-500 file:text-white hover:file:bg-blue-600"},null,544),i.value?(h(),_("div",qo,[e("img",{src:i.value,alt:"Prévisualisation",class:"w-32 h-32 object-cover rounded-xl border-2 border-gray-300"},null,8,Io),e("button",{type:"button",onClick:S,class:"absolute -top-2 -right-2 bg-red-500 text-white rounded-full w-6 h-6 flex items-center justify-center text-xs hover:bg-red-600 transition-colors"}," × ")])):U("",!0)])]),e("div",Vo,[e("div",null,[y[23]||(y[23]=e("label",{class:"block text-sm font-medium text-gray-700 mb-2"},"Profession",-1)),D(e("input",{"onUpdate:modelValue":y[7]||(y[7]=c=>p.value.profession=c),type:"text",class:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent"},null,512),[[W,p.value.profession]])]),e("div",null,[y[25]||(y[25]=e("label",{class:"block text-sm font-medium text-gray-700 mb-2"},"Statut",-1)),D(e("select",{"onUpdate:modelValue":y[8]||(y[8]=c=>p.value.statut=c),class:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent"},[...y[24]||(y[24]=[e("option",{value:"actif"},"Actif",-1),e("option",{value:"inactif"},"Inactif",-1),e("option",{value:"suspendu"},"Suspendu",-1),e("option",{value:"ancien"},"Ancien",-1)])],512),[[ne,p.value.statut]])])]),e("div",Ho,[e("button",{type:"button",onClick:B,class:"px-4 py-2 border border-gray-300 rounded-lg hover:bg-gray-50 transition-colors"}," Annuler "),e("button",zo,u(n.value?"Modifier":"Ajouter"),1)])],32)])])):U("",!0)]))}},Go={class:"space-y-8"},Wo={class:"flex items-center justify-between"},Ko={class:"flex items-center space-x-4"},Xo={class:"grid grid-cols-1 md:grid-cols-3 gap-6"},Yo={class:"kpi-card hover-lift"},Qo={class:"flex items-center justify-between"},er={class:"kpi-value"},tr={class:"kpi-change positive"},sr={class:"w-12 h-12 bg-green-100 rounded-lg flex items-center justify-center"},nr={class:"kpi-card hover-lift"},or={class:"flex items-center justify-between"},rr={class:"kpi-value"},ir={class:"kpi-change positive"},ar={class:"w-12 h-12 bg-blue-100 rounded-lg flex items-center justify-center"},lr={class:"kpi-card hover-lift"},ur={class:"flex items-center justify-between"},dr={class:"kpi-value"},cr={class:"kpi-change negative"},pr={class:"w-12 h-12 bg-red-100 rounded-lg flex items-center justify-center"},mr={class:"card-modern"},fr={class:"border-b border-gray-200"},gr={class:"flex space-x-8 px-6"},vr=["onClick"],br={class:"p-6"},xr={key:0},yr={class:"flex items-center justify-between mb-6"},hr={class:"grid grid-cols-1 lg:grid-cols-2 gap-6"},_r={class:"flex items-start justify-between mb-4"},wr={class:"text-lg font-semibold text-gray-900"},$r={class:"text-sm text-gray-600"},kr={class:"space-y-3"},Cr={class:"flex justify-between text-sm"},Ar={class:"font-medium"},jr={class:"flex justify-between text-sm"},Sr={class:"font-medium"},Tr={class:"flex justify-between text-sm"},Rr={class:"font-medium"},Er={class:"mt-4"},Mr={class:"flex justify-between text-sm mb-1"},Pr={class:"font-medium"},Dr={class:"w-full bg-gray-200 rounded-full h-2"},Or={class:"flex items-center justify-between mt-4 pt-4 border-t border-gray-200"},Fr={class:"text-sm text-gray-600"},Nr={class:"flex space-x-2"},Ur=["onClick"],Br=["onClick"],Lr={key:1},qr={class:"flex items-center justify-between mb-6"},Ir={class:"flex items-center space-x-4"},Vr=["value"],Hr={class:"overflow-x-auto"},zr={class:"table-modern w-full"},Jr={class:"py-4"},Zr={class:"flex items-center space-x-3"},Gr=["src","alt"],Wr={class:"font-medium text-gray-900"},Kr={class:"text-sm text-gray-600"},Xr={class:"py-4"},Yr={class:"text-sm text-gray-900"},Qr={class:"py-4"},ei={class:"font-medium text-gray-900"},ti={class:"py-4"},si={class:"font-medium text-gray-900"},ni={class:"py-4"},oi={class:"py-4"},ri={class:"py-4"},ii={class:"flex items-center justify-end space-x-2"},ai=["onClick"],li=["onClick"],ui={class:"text-lg font-semibold text-gray-900 mb-6"},di={class:"grid grid-cols-1 md:grid-cols-2 gap-4"},ci={class:"grid grid-cols-1 md:grid-cols-2 gap-4"},pi={class:"flex items-center justify-end space-x-4 pt-6"},mi={type:"submit",class:"btn-modern"},fi={class:"mb-4 p-4 bg-gray-50 rounded-lg"},gi={class:"text-sm text-gray-600"},vi={class:"font-medium"},bi={class:"text-sm text-gray-600"},xi={class:"font-medium"},yi={class:"text-sm text-gray-600"},hi={class:"font-medium text-green-600"},_i=["max"],wi={__name:"Cotisations",setup(t){const s=E("projets"),n=E(!1),o=E(!1),r=E(null),i=E(null),a=E(""),d=E({totalCollecte:125e5,tauxRecouvrement:78.5,enRetard:12}),p=E({nom:"",description:"",montant_total:"",type_cotisation:"obligatoire",date_debut:"",date_fin:""}),x=E({montant:"",methode:"especes"}),m=E([{id:1,nom:"Cotisation Annuelle 2025",description:"Cotisation obligatoire pour l'année 2025",montant_total:5e6,montant_collecte:375e4,montant_restant:125e4,pourcentage_collecte:75,date_debut:"2025-01-01",date_fin:"2025-12-31",statut:"actif",type_cotisation:"obligatoire"},{id:2,nom:"Projet Mosquée",description:"Construction d'une nouvelle mosquée",montant_total:1e7,montant_collecte:65e5,montant_restant:35e5,pourcentage_collecte:65,date_debut:"2025-01-15",date_fin:"2025-06-30",statut:"actif",type_cotisation:"volontaire"}]),w=E([{id:1,membre:{id:1,nom_complet:"Moussa Fall",email:"moussa.fall@email.com",photo_url:null},projet:{id:1,nom:"Cotisation Annuelle 2025"},montant_assigné:1e5,montant_payé:1e5,montant_restant:0,statut_paiement:"paye",date_echeance:"2025-03-31",en_retard:!1},{id:2,membre:{id:2,nom_complet:"Aminata Diop",email:"aminata.diop@email.com",photo_url:null},projet:{id:1,nom:"Cotisation Annuelle 2025"},montant_assigné:1e5,montant_payé:5e4,montant_restant:5e4,statut_paiement:"partiel",date_echeance:"2025-03-31",en_retard:!1},{id:3,membre:{id:3,nom_complet:"Ibrahima Ba",email:"ibrahima.ba@email.com",photo_url:null},projet:{id:1,nom:"Cotisation Annuelle 2025"},montant_assigné:1e5,montant_payé:0,montant_restant:1e5,statut_paiement:"non_paye",date_echeance:"2025-02-15",en_retard:!0}]),A=me(()=>a.value?w.value.filter(y=>y.projet.id==a.value):w.value),I=[{id:"projets",label:"Projets"},{id:"assignations",label:"Assignations"}],$=y=>new Intl.NumberFormat("fr-FR",{style:"currency",currency:"XOF",minimumFractionDigits:0}).format(y),R=y=>new Date(y).toLocaleDateString("fr-FR"),S=y=>({planifie:"bg-gray-100 text-gray-800",actif:"bg-green-100 text-green-800",suspendu:"bg-yellow-100 text-yellow-800",termine:"bg-blue-100 text-blue-800",annule:"bg-red-100 text-red-800"})[y]||"bg-gray-100 text-gray-800",q=y=>({non_paye:"bg-red-100 text-red-800",partiel:"bg-yellow-100 text-yellow-800",paye:"bg-green-100 text-green-800",rembourse:"bg-gray-100 text-gray-800"})[y]||"bg-gray-100 text-gray-800",z=()=>{r.value=null,p.value={nom:"",description:"",montant_total:"",type_cotisation:"obligatoire",date_debut:"",date_fin:""},n.value=!0},B=y=>{r.value=y,p.value={...y},n.value=!0},H=()=>{n.value=!1,r.value=null},X=()=>{if(r.value){const y=m.value.findIndex(c=>c.id===r.value.id);y!==-1&&(m.value[y]={...m.value[y],...p.value})}else{const y={id:Date.now(),...p.value,montant_collecte:0,montant_restant:parseFloat(p.value.montant_total),pourcentage_collecte:0,statut:"planifie"};m.value.push(y)}H(),window.addToast("Projet sauvegardé avec succès !","success")},se=y=>{window.addToast(`Détails du projet: ${y.nom}`,"info")},J=y=>{i.value=y,x.value={montant:"",methode:"especes"},o.value=!0},ie=()=>{o.value=!1,i.value=null},ae=()=>{if(i.value){const y=parseFloat(x.value.montant),c=i.value;c.montant_payé+=y,c.montant_restant=c.montant_assigné-c.montant_payé,c.montant_restant<=0?c.statut_paiement="paye":c.statut_paiement="partiel",ie(),window.addToast("Paiement enregistré avec succès !","success")}},M=y=>{window.addToast(`Historique des paiements pour ${y.membre.nom_complet}`,"info")};return Ae(()=>{console.log("Composant Cotisations initialisé")}),(y,c)=>{var K,ee,F,v,re,b;return h(),_("div",Go,[e("div",Wo,[c[12]||(c[12]=e("div",null,[e("h1",{class:"text-3xl font-bold text-gray-900"},"Gestion des Cotisations"),e("p",{class:"text-gray-600 mt-2"},"Suivez les projets de cotisation et les paiements")],-1)),e("div",Ko,[e("button",{class:"btn-modern",onClick:z},[C(j(xe),{class:"w-5 h-5 mr-2"}),c[11]||(c[11]=L(" Nouveau projet ",-1))])])]),e("div",Xo,[e("div",Yo,[e("div",Qo,[e("div",null,[c[14]||(c[14]=e("p",{class:"text-sm font-medium text-gray-600"},"Total Collecté",-1)),e("p",er,u($(d.value.totalCollecte)),1),e("div",tr,[C(j(ce),{class:"w-4 h-4"}),c[13]||(c[13]=L(" +15% ce mois ",-1))])]),e("div",sr,[C(j(Se),{class:"w-6 h-6 text-green-600"})])])]),e("div",nr,[e("div",or,[e("div",null,[c[16]||(c[16]=e("p",{class:"text-sm font-medium text-gray-600"},"Taux de Recouvrement",-1)),e("p",rr,u(d.value.tauxRecouvrement)+"%",1),e("div",ir,[C(j(ce),{class:"w-4 h-4"}),c[15]||(c[15]=L(" +3% cette semaine ",-1))])]),e("div",ar,[C(j(zt),{class:"w-6 h-6 text-blue-600"})])])]),e("div",lr,[e("div",ur,[e("div",null,[c[18]||(c[18]=e("p",{class:"text-sm font-medium text-gray-600"},"En Retard",-1)),e("p",dr,u(d.value.enRetard),1),e("div",cr,[C(j(De),{class:"w-4 h-4"}),c[17]||(c[17]=L(" -2 cette semaine ",-1))])]),e("div",pr,[C(j(Te),{class:"w-6 h-6 text-red-600"})])])])]),e("div",mr,[e("div",fr,[e("nav",gr,[(h(),_(Z,null,G(I,l=>e("button",{key:l.id,onClick:Y=>s.value=l.id,class:V(["py-4 px-1 border-b-2 font-medium text-sm transition-colors",s.value===l.id?"border-blue-500 text-blue-600":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300"])},u(l.label),11,vr)),64))])]),e("div",br,[s.value==="projets"?(h(),_("div",xr,[e("div",yr,[c[20]||(c[20]=e("h3",{class:"text-lg font-semibold text-gray-900"},"Projets de Cotisation",-1)),e("button",{class:"btn-modern",onClick:z},[C(j(xe),{class:"w-5 h-5 mr-2"}),c[19]||(c[19]=L(" Nouveau projet ",-1))])]),e("div",hr,[(h(!0),_(Z,null,G(m.value,l=>(h(),_("div",{key:l.id,class:"card-modern p-6 hover-lift"},[e("div",_r,[e("div",null,[e("h4",wr,u(l.nom),1),e("p",$r,u(l.description),1)]),e("span",{class:V([S(l.statut),"px-2 py-1 rounded-full text-xs font-medium"])},u(l.statut),3)]),e("div",kr,[e("div",Cr,[c[21]||(c[21]=e("span",{class:"text-gray-600"},"Montant total:",-1)),e("span",Ar,u($(l.montant_total)),1)]),e("div",jr,[c[22]||(c[22]=e("span",{class:"text-gray-600"},"Collecté:",-1)),e("span",Sr,u($(l.montant_collecte)),1)]),e("div",Tr,[c[23]||(c[23]=e("span",{class:"text-gray-600"},"Restant:",-1)),e("span",Rr,u($(l.montant_restant)),1)])]),e("div",Er,[e("div",Mr,[c[24]||(c[24]=e("span",{class:"text-gray-600"},"Progression",-1)),e("span",Pr,u(l.pourcentage_collecte)+"%",1)]),e("div",Dr,[e("div",{class:"bg-gradient-to-r from-blue-500 to-green-500 h-2 rounded-full transition-all duration-300",style:Ht({width:`${l.pourcentage_collecte}%`})},null,4)])]),e("div",Or,[e("div",Fr,u(l.date_debut)+" - "+u(l.date_fin),1),e("div",Nr,[e("button",{onClick:Y=>se(l),class:"p-2 text-gray-400 hover:text-blue-600 transition-colors",title:"Voir les détails"},[C(j(ft),{class:"w-4 h-4"})],8,Ur),e("button",{onClick:Y=>B(l),class:"p-2 text-gray-400 hover:text-green-600 transition-colors",title:"Éditer"},[C(j(Ue),{class:"w-4 h-4"})],8,Br)])])]))),128))])])):U("",!0),s.value==="assignations"?(h(),_("div",Lr,[e("div",qr,[c[26]||(c[26]=e("h3",{class:"text-lg font-semibold text-gray-900"},"Assignations par Membre",-1)),e("div",Ir,[D(e("select",{"onUpdate:modelValue":c[0]||(c[0]=l=>a.value=l),class:"px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent"},[c[25]||(c[25]=e("option",{value:""},"Tous les projets",-1)),(h(!0),_(Z,null,G(m.value,l=>(h(),_("option",{key:l.id,value:l.id},u(l.nom),9,Vr))),128))],512),[[ne,a.value]])])]),e("div",Hr,[e("table",zr,[c[27]||(c[27]=e("thead",null,[e("tr",null,[e("th",{class:"text-left"},"Membre"),e("th",{class:"text-left"},"Projet"),e("th",{class:"text-left"},"Montant Assigné"),e("th",{class:"text-left"},"Montant Payé"),e("th",{class:"text-left"},"Statut"),e("th",{class:"text-left"},"Échéance"),e("th",{class:"text-right"},"Actions")])],-1)),e("tbody",null,[(h(!0),_(Z,null,G(A.value,l=>(h(),_("tr",{key:l.id,class:"hover:bg-gray-50"},[e("td",Jr,[e("div",Zr,[e("img",{src:l.membre.photo_url||"https://images.unsplash.com/photo-1472099645785-5658abf4ff4e?w=40&h=40&fit=crop&crop=face",alt:l.membre.nom_complet,class:"w-10 h-10 rounded-full"},null,8,Gr),e("div",null,[e("p",Wr,u(l.membre.nom_complet),1),e("p",Kr,u(l.membre.email),1)])])]),e("td",Xr,[e("span",Yr,u(l.projet.nom),1)]),e("td",Qr,[e("span",ei,u($(l.montant_assigné)),1)]),e("td",ti,[e("span",si,u($(l.montant_payé)),1)]),e("td",ni,[e("span",{class:V([q(l.statut_paiement),"px-2 py-1 rounded-full text-xs font-medium"])},u(l.statut_paiement),3)]),e("td",oi,[e("span",{class:V(l.en_retard?"text-red-600 font-medium":"text-gray-600")},u(R(l.date_echeance)),3)]),e("td",ri,[e("div",ii,[e("button",{onClick:Y=>J(l),class:"p-2 text-gray-400 hover:text-green-600 transition-colors",title:"Enregistrer un paiement"},[C(j(Se),{class:"w-4 h-4"})],8,ai),e("button",{onClick:Y=>M(l),class:"p-2 text-gray-400 hover:text-blue-600 transition-colors",title:"Voir l'historique"},[C(j(mt),{class:"w-4 h-4"})],8,li)])])]))),128))])])])])):U("",!0)])]),n.value?(h(),_("div",{key:0,class:"modal-overlay",onClick:H},[e("div",{class:"modal-content",onClick:c[7]||(c[7]=te(()=>{},["stop"]))},[e("h3",ui,u(r.value?"Modifier le projet":"Nouveau projet de cotisation"),1),e("form",{onSubmit:te(X,["prevent"]),class:"space-y-4"},[e("div",null,[c[28]||(c[28]=e("label",{class:"block text-sm font-medium text-gray-700 mb-2"},"Nom du projet *",-1)),D(e("input",{"onUpdate:modelValue":c[1]||(c[1]=l=>p.value.nom=l),type:"text",required:"",class:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent"},null,512),[[W,p.value.nom]])]),e("div",null,[c[29]||(c[29]=e("label",{class:"block text-sm font-medium text-gray-700 mb-2"},"Description",-1)),D(e("textarea",{"onUpdate:modelValue":c[2]||(c[2]=l=>p.value.description=l),rows:"3",class:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent"},null,512),[[W,p.value.description]])]),e("div",di,[e("div",null,[c[30]||(c[30]=e("label",{class:"block text-sm font-medium text-gray-700 mb-2"},"Montant total *",-1)),D(e("input",{"onUpdate:modelValue":c[3]||(c[3]=l=>p.value.montant_total=l),type:"number",required:"",min:"0",step:"100",class:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent"},null,512),[[W,p.value.montant_total]])]),e("div",null,[c[32]||(c[32]=e("label",{class:"block text-sm font-medium text-gray-700 mb-2"},"Type de cotisation",-1)),D(e("select",{"onUpdate:modelValue":c[4]||(c[4]=l=>p.value.type_cotisation=l),class:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent"},[...c[31]||(c[31]=[e("option",{value:"obligatoire"},"Obligatoire",-1),e("option",{value:"volontaire"},"Volontaire",-1),e("option",{value:"evenement"},"Événement",-1)])],512),[[ne,p.value.type_cotisation]])])]),e("div",ci,[e("div",null,[c[33]||(c[33]=e("label",{class:"block text-sm font-medium text-gray-700 mb-2"},"Date de début *",-1)),D(e("input",{"onUpdate:modelValue":c[5]||(c[5]=l=>p.value.date_debut=l),type:"date",required:"",class:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent"},null,512),[[W,p.value.date_debut]])]),e("div",null,[c[34]||(c[34]=e("label",{class:"block text-sm font-medium text-gray-700 mb-2"},"Date de fin *",-1)),D(e("input",{"onUpdate:modelValue":c[6]||(c[6]=l=>p.value.date_fin=l),type:"date",required:"",class:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent"},null,512),[[W,p.value.date_fin]])])]),e("div",pi,[e("button",{type:"button",onClick:H,class:"px-4 py-2 border border-gray-300 rounded-lg hover:bg-gray-50 transition-colors"}," Annuler "),e("button",mi,u(r.value?"Modifier":"Créer"),1)])],32)])])):U("",!0),o.value?(h(),_("div",{key:1,class:"modal-overlay",onClick:ie},[e("div",{class:"modal-content",onClick:c[10]||(c[10]=te(()=>{},["stop"]))},[c[42]||(c[42]=e("h3",{class:"text-lg font-semibold text-gray-900 mb-6"}," Enregistrer un paiement ",-1)),e("div",fi,[e("p",gi,[c[35]||(c[35]=L("Membre: ",-1)),e("span",vi,u((ee=(K=i.value)==null?void 0:K.membre)==null?void 0:ee.nom_complet),1)]),e("p",bi,[c[36]||(c[36]=L("Projet: ",-1)),e("span",xi,u((v=(F=i.value)==null?void 0:F.projet)==null?void 0:v.nom),1)]),e("p",yi,[c[37]||(c[37]=L("Montant restant: ",-1)),e("span",hi,u($(((re=i.value)==null?void 0:re.montant_restant)||0)),1)])]),e("form",{onSubmit:te(ae,["prevent"]),class:"space-y-4"},[e("div",null,[c[38]||(c[38]=e("label",{class:"block text-sm font-medium text-gray-700 mb-2"},"Montant payé *",-1)),D(e("input",{"onUpdate:modelValue":c[8]||(c[8]=l=>x.value.montant=l),type:"number",required:"",max:((b=i.value)==null?void 0:b.montant_restant)||0,min:"0",step:"100",class:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent"},null,8,_i),[[W,x.value.montant]])]),e("div",null,[c[40]||(c[40]=e("label",{class:"block text-sm font-medium text-gray-700 mb-2"},"Méthode de paiement",-1)),D(e("select",{"onUpdate:modelValue":c[9]||(c[9]=l=>x.value.methode=l),class:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent"},[...c[39]||(c[39]=[e("option",{value:"especes"},"Espèces",-1),e("option",{value:"virement"},"Virement bancaire",-1),e("option",{value:"mobile_money"},"Mobile Money",-1),e("option",{value:"cheque"},"Chèque",-1)])],512),[[ne,x.value.methode]])]),e("div",{class:"flex items-center justify-end space-x-4 pt-6"},[e("button",{type:"button",onClick:ie,class:"px-4 py-2 border border-gray-300 rounded-lg hover:bg-gray-50 transition-colors"}," Annuler "),c[41]||(c[41]=e("button",{type:"submit",class:"btn-modern"}," Enregistrer le paiement ",-1))])],32)])])):U("",!0)])}}},$i={class:"space-y-8"},ki={class:"flex items-center justify-between"},Ci={class:"flex items-center space-x-4"},Ai={class:"grid grid-cols-1 md:grid-cols-4 gap-6"},ji={class:"kpi-card hover-lift"},Si={class:"flex items-center justify-between"},Ti={class:"kpi-value"},Ri={class:"kpi-change positive"},Ei={class:"w-12 h-12 bg-blue-100 rounded-lg flex items-center justify-center"},Mi={class:"kpi-card hover-lift"},Pi={class:"flex items-center justify-between"},Di={class:"kpi-value"},Oi={class:"kpi-change positive"},Fi={class:"w-12 h-12 bg-green-100 rounded-lg flex items-center justify-center"},Ni={class:"kpi-card hover-lift"},Ui={class:"flex items-center justify-between"},Bi={class:"kpi-value"},Li={class:"kpi-change positive"},qi={class:"w-12 h-12 bg-purple-100 rounded-lg flex items-center justify-center"},Ii={class:"kpi-card hover-lift"},Vi={class:"flex items-center justify-between"},Hi={class:"kpi-value"},zi={class:"kpi-change negative"},Ji={class:"w-12 h-12 bg-orange-100 rounded-lg flex items-center justify-center"},Zi={class:"grid grid-cols-1 lg:grid-cols-3 gap-8"},Gi={class:"lg:col-span-2"},Wi={class:"card-modern"},Ki={class:"p-6"},Xi={class:"flex items-center justify-between mb-6"},Yi={class:"flex items-center space-x-2"},Qi={class:"text-sm font-medium text-gray-700"},ea={class:"grid grid-cols-7 gap-1 mb-4"},ta={class:"grid grid-cols-7 gap-1"},sa=["onClick"],na={class:"text-sm font-medium mb-1"},oa={class:"space-y-1"},ra=["title"],ia={class:"space-y-6"},aa={class:"card-modern"},la={class:"p-6"},ua={class:"space-y-3"},da=["onClick"],ca={class:"flex-1 min-w-0"},pa={class:"font-medium text-gray-900 truncate"},ma={class:"text-sm text-gray-600"},fa={class:"text-xs text-gray-500"},ga={class:"card-modern"},va={class:"p-6"},ba={class:"space-y-3"},xa=["onClick"],ya={class:"flex-1 min-w-0"},ha={class:"font-medium text-gray-900 truncate"},_a={class:"text-sm text-gray-600"},wa={class:"flex items-center space-x-2 mt-1"},$a={class:"text-xs text-gray-500"},ka={class:"text-xs text-green-600"},Ca={class:"text-lg font-semibold text-gray-900 mb-6"},Aa={class:"grid grid-cols-1 md:grid-cols-2 gap-4"},ja={class:"grid grid-cols-1 md:grid-cols-2 gap-4"},Sa=["value"],Ta={class:"flex items-center justify-end space-x-4 pt-6"},Ra={type:"submit",class:"btn-modern"},Ea={class:"flex items-center justify-between mb-6"},Ma={class:"text-lg font-semibold text-gray-900"},Pa={key:0,class:"space-y-6"},Da={class:"grid grid-cols-1 md:grid-cols-2 gap-6"},Oa={class:"card-modern p-4"},Fa={class:"space-y-2 text-sm"},Na={class:"flex justify-between"},Ua={class:"font-medium"},Ba={class:"flex justify-between"},La={class:"flex justify-between"},qa={class:"font-medium"},Ia={class:"flex justify-between"},Va={class:"font-medium"},Ha={class:"flex justify-between"},za={class:"font-medium"},Ja={class:"card-modern p-4"},Za={class:"space-y-2 text-sm"},Ga={class:"flex justify-between"},Wa={class:"font-medium"},Ka={class:"flex justify-between"},Xa={class:"font-medium text-green-600"},Ya={class:"flex justify-between"},Qa={class:"font-medium text-red-600"},el={class:"flex justify-between"},tl={class:"font-medium text-orange-600"},sl={class:"flex justify-between"},nl={class:"font-medium"},ol={class:"card-modern"},rl={class:"p-6"},il={class:"overflow-x-auto"},al={class:"table-modern w-full"},ll={class:"py-4"},ul={class:"flex items-center space-x-3"},dl=["src","alt"],cl={class:"font-medium text-gray-900"},pl={class:"py-4"},ml={class:"py-4"},fl={class:"text-sm text-gray-600"},gl={class:"py-4"},vl={key:0,class:"text-sm text-orange-600"},bl={key:1,class:"text-sm text-gray-500"},xl={class:"py-4"},yl={class:"text-sm text-gray-600"},hl={class:"py-4"},_l={class:"flex items-center justify-end space-x-2"},wl=["onClick"],$l={__name:"Activites",setup(t){const s=E(!1),n=E(!1),o=E(null),r=E(null),i=E(new Date),a=E({activitesCetteSemaine:8,tauxPresenceMoyen:85.2,membresPresents:45,retards:3}),d=E({type:"repetition",nom:"",description:"",date_debut:"",date_fin:"",lieu:"",responsable_id:"",statut:"planifie"}),p=E([{id:1,nom_complet:"Moussa Fall"},{id:2,nom_complet:"Aminata Diop"},{id:3,nom_complet:"Ibrahima Ba"}]),x=E([{id:1,type:"repetition",nom:"Répétition Chorale",description:"Répétition hebdomadaire de la chorale",date_debut:"2025-01-15T18:00:00",date_fin:"2025-01-15T20:00:00",lieu:"Salle de répétition",responsable_id:1,statut:"confirme",presences_count:25,presents_count:22,absents_count:2,retards_count:1,taux_presence:88},{id:2,type:"goudi_aldiouma",nom:"Goudi Aldiouma",description:"Cérémonie religieuse hebdomadaire",date_debut:"2025-01-16T19:30:00",date_fin:"2025-01-16T21:30:00",lieu:"Mosquée principale",responsable_id:2,statut:"planifie",presences_count:0,presents_count:0,absents_count:0,retards_count:0,taux_presence:0},{id:3,type:"formation",nom:"Formation Déclamation",description:"Formation à la déclamation coranique",date_debut:"2025-01-17T16:00:00",date_fin:"2025-01-17T18:00:00",lieu:"Salle de formation",responsable_id:3,statut:"en_cours",presences_count:15,presents_count:14,absents_count:1,retards_count:0,taux_presence:93}]),m=E([{id:1,membre:{nom_complet:"Moussa Fall",photo_url:null},statut:"present",heure_arrivee:"2025-01-15T18:05:00",minutes_retard:5,justification:null},{id:2,membre:{nom_complet:"Aminata Diop",photo_url:null},statut:"absent_justifie",heure_arrivee:null,minutes_retard:0,justification:"Maladie"},{id:3,membre:{nom_complet:"Ibrahima Ba",photo_url:null},statut:"retard",heure_arrivee:"2025-01-15T18:15:00",minutes_retard:15,justification:"Trafic"}]),w=me(()=>i.value.toLocaleDateString("fr-FR",{year:"numeric",month:"long"})),A=["Lun","Mar","Mer","Jeu","Ven","Sam","Dim"],I=me(()=>{const F=i.value.getFullYear(),v=i.value.getMonth(),re=new Date(F,v,1),b=new Date(F,v+1,0),l=re.getDay()===0?6:re.getDay()-1,Y=[];for(let T=l-1;T>=0;T--){const f=new Date(F,v,-T);Y.push({date:f.toISOString().split("T")[0],numero:f.getDate(),estAutreMois:!0,estAujourdhui:!1,activites:[]})}for(let T=1;T<=b.getDate();T++){const f=new Date(F,v,T),le=f.toDateString()===new Date().toDateString(),Q=x.value.filter(be=>new Date(be.date_debut).toDateString()===f.toDateString());Y.push({date:f.toISOString().split("T")[0],numero:T,estAutreMois:!1,estAujourdhui:le,activites:Q})}const k=42-Y.length;for(let T=1;T<=k;T++){const f=new Date(F,v+1,T);Y.push({date:f.toISOString().split("T")[0],numero:T,estAutreMois:!0,estAujourdhui:!1,activites:[]})}return Y}),$=me(()=>{const F=new Date;return x.value.filter(v=>new Date(v.date_debut)>F).sort((v,re)=>new Date(v.date_debut)-new Date(re.date_debut)).slice(0,5)}),R=me(()=>{const F=new Date;return x.value.filter(v=>new Date(v.date_debut)<=F).sort((v,re)=>new Date(re.date_debut)-new Date(v.date_debut)).slice(0,5)}),S=F=>new Date(F).toLocaleDateString("fr-FR",{day:"numeric",month:"short",hour:"2-digit",minute:"2-digit"}),q=F=>({repetition:"bg-blue-500",prestation:"bg-purple-500",goudi_aldiouma:"bg-green-500",formation:"bg-orange-500",reunion:"bg-gray-500"})[F]||"bg-gray-500",z=F=>({repetition:Ts,prestation:Zt,goudi_aldiouma:ze,formation:ws,reunion:ze})[F]||ze,B=F=>({repetition:"bg-blue-100 text-blue-600",prestation:"bg-purple-100 text-purple-600",goudi_aldiouma:"bg-green-100 text-green-600",formation:"bg-orange-100 text-orange-600",reunion:"bg-gray-100 text-gray-600"})[F]||"bg-gray-100 text-gray-600",H=F=>({planifie:"bg-gray-100 text-gray-800",confirme:"bg-blue-100 text-blue-800",en_cours:"bg-green-100 text-green-800",termine:"bg-gray-100 text-gray-800",annule:"bg-red-100 text-red-800"})[F]||"bg-gray-100 text-gray-800",X=F=>({present:"bg-green-100 text-green-800",absent_justifie:"bg-yellow-100 text-yellow-800",absent_non_justifie:"bg-red-100 text-red-800",retard:"bg-orange-100 text-orange-800"})[F]||"bg-gray-100 text-gray-800",se=()=>{o.value=null,d.value={type:"repetition",nom:"",description:"",date_debut:"",date_fin:"",lieu:"",responsable_id:"",statut:"planifie"},s.value=!0},J=()=>{s.value=!1,o.value=null},ie=()=>{if(o.value){const F=x.value.findIndex(v=>v.id===o.value.id);F!==-1&&(x.value[F]={...x.value[F],...d.value})}else{const F={id:Date.now(),...d.value,presences_count:0,presents_count:0,absents_count:0,retards_count:0,taux_presence:0};x.value.push(F)}J(),window.addToast("Activité sauvegardée avec succès !","success")},ae=F=>{r.value=F,n.value=!0},M=()=>{n.value=!1,r.value=null},y=F=>{F.activites.length>0&&ae(F.activites[0])},c=()=>{i.value=new Date(i.value.getFullYear(),i.value.getMonth()-1,1)},K=()=>{i.value=new Date(i.value.getFullYear(),i.value.getMonth()+1,1)},ee=F=>{window.addToast(`Modification de la présence de ${F.membre.nom_complet}`,"info")};return Ae(()=>{console.log("Composant Activités initialisé")}),(F,v)=>{var re;return h(),_("div",$i,[e("div",ki,[v[11]||(v[11]=e("div",null,[e("h1",{class:"text-3xl font-bold text-gray-900"},"Gestion des Activités"),e("p",{class:"text-gray-600 mt-2"},"Planifiez et suivez les répétitions et activités")],-1)),e("div",Ci,[e("button",{class:"btn-modern",onClick:se},[C(j(xe),{class:"w-5 h-5 mr-2"}),v[10]||(v[10]=L(" Nouvelle activité ",-1))])])]),e("div",Ai,[e("div",ji,[e("div",Si,[e("div",null,[v[13]||(v[13]=e("p",{class:"text-sm font-medium text-gray-600"},"Activités cette semaine",-1)),e("p",Ti,u(a.value.activitesCetteSemaine),1),e("div",Ri,[C(j(ce),{class:"w-4 h-4"}),v[12]||(v[12]=L(" +2 cette semaine ",-1))])]),e("div",Ei,[C(j(Oe),{class:"w-6 h-6 text-blue-600"})])])]),e("div",Mi,[e("div",Pi,[e("div",null,[v[15]||(v[15]=e("p",{class:"text-sm font-medium text-gray-600"},"Taux de Présence Moyen",-1)),e("p",Di,u(a.value.tauxPresenceMoyen)+"%",1),e("div",Oi,[C(j(ce),{class:"w-4 h-4"}),v[14]||(v[14]=L(" +3% cette semaine ",-1))])]),e("div",Fi,[C(j(Ye),{class:"w-6 h-6 text-green-600"})])])]),e("div",Ni,[e("div",Ui,[e("div",null,[v[17]||(v[17]=e("p",{class:"text-sm font-medium text-gray-600"},"Membres Présents",-1)),e("p",Bi,u(a.value.membresPresents),1),e("div",Li,[C(j(ce),{class:"w-4 h-4"}),v[16]||(v[16]=L(" +5 aujourd'hui ",-1))])]),e("div",qi,[C(j(Fe),{class:"w-6 h-6 text-purple-600"})])])]),e("div",Ii,[e("div",Vi,[e("div",null,[v[19]||(v[19]=e("p",{class:"text-sm font-medium text-gray-600"},"Retards",-1)),e("p",Hi,u(a.value.retards),1),e("div",zi,[C(j(De),{class:"w-4 h-4"}),v[18]||(v[18]=L(" -2 cette semaine ",-1))])]),e("div",Ji,[C(j(mt),{class:"w-6 h-6 text-orange-600"})])])])]),e("div",Zi,[e("div",Gi,[e("div",Wi,[e("div",Ki,[e("div",Xi,[v[20]||(v[20]=e("h3",{class:"text-lg font-semibold text-gray-900"},"Calendrier des Activités",-1)),e("div",Yi,[e("button",{onClick:c,class:"p-2 text-gray-400 hover:text-gray-600 transition-colors"},[C(j(ks),{class:"w-5 h-5"})]),e("span",Qi,u(w.value),1),e("button",{onClick:K,class:"p-2 text-gray-400 hover:text-gray-600 transition-colors"},[C(j(Cs),{class:"w-5 h-5"})])])]),e("div",ea,[(h(),_(Z,null,G(A,b=>e("div",{key:b,class:"text-center text-sm font-medium text-gray-500 py-2"},u(b),1)),64))]),e("div",ta,[(h(!0),_(Z,null,G(I.value,b=>(h(),_("div",{key:b.date,class:V(["min-h-[80px] p-2 border border-gray-200 cursor-pointer hover:bg-gray-50 transition-colors",b.estAujourdhui?"bg-blue-50 border-blue-300":"",b.estAutreMois?"text-gray-400":"text-gray-900"]),onClick:l=>y(b)},[e("div",na,u(b.numero),1),e("div",oa,[(h(!0),_(Z,null,G(b.activites,l=>(h(),_("div",{key:l.id,class:V(["text-xs px-2 py-1 rounded-full text-white truncate",q(l.type)]),title:l.nom},u(l.nom),11,ra))),128))])],10,sa))),128))])])])]),e("div",ia,[e("div",aa,[e("div",la,[v[21]||(v[21]=e("h3",{class:"text-lg font-semibold text-gray-900 mb-4"},"Activités à Venir",-1)),e("div",ua,[(h(!0),_(Z,null,G($.value,b=>(h(),_("div",{key:b.id,class:"flex items-center space-x-3 p-3 bg-gray-50 rounded-lg hover:bg-gray-100 transition-colors cursor-pointer",onClick:l=>ae(b)},[e("div",{class:V([B(b.type),"w-10 h-10 rounded-lg flex items-center justify-center flex-shrink-0"])},[(h(),we($e(z(b.type)),{class:"w-5 h-5"}))],2),e("div",ca,[e("p",pa,u(b.nom),1),e("p",ma,u(S(b.date_debut)),1),e("p",fa,u(b.lieu||"Lieu non spécifié"),1)]),e("span",{class:V([H(b.statut),"px-2 py-1 rounded-full text-xs font-medium"])},u(b.statut),3)],8,da))),128))])])]),e("div",ga,[e("div",va,[v[22]||(v[22]=e("h3",{class:"text-lg font-semibold text-gray-900 mb-4"},"Activités Récentes",-1)),e("div",ba,[(h(!0),_(Z,null,G(R.value,b=>(h(),_("div",{key:b.id,class:"flex items-center space-x-3 p-3 bg-gray-50 rounded-lg hover:bg-gray-100 transition-colors cursor-pointer",onClick:l=>ae(b)},[e("div",{class:V([B(b.type),"w-10 h-10 rounded-lg flex items-center justify-center flex-shrink-0"])},[(h(),we($e(z(b.type)),{class:"w-5 h-5"}))],2),e("div",ya,[e("p",ha,u(b.nom),1),e("p",_a,u(S(b.date_debut)),1),e("div",wa,[e("span",$a,u(b.presences_count)+" présences",1),e("span",ka,u(b.taux_presence)+"%",1)])])],8,xa))),128))])])])])]),s.value?(h(),_("div",{key:0,class:"modal-overlay",onClick:J},[e("div",{class:"modal-content max-w-2xl",onClick:v[8]||(v[8]=te(()=>{},["stop"]))},[e("h3",Ca,u(o.value?"Modifier l'activité":"Nouvelle activité"),1),e("form",{onSubmit:te(ie,["prevent"]),class:"space-y-4"},[e("div",Aa,[e("div",null,[v[24]||(v[24]=e("label",{class:"block text-sm font-medium text-gray-700 mb-2"},"Type d'activité *",-1)),D(e("select",{"onUpdate:modelValue":v[0]||(v[0]=b=>d.value.type=b),required:"",class:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent"},[...v[23]||(v[23]=[de('<option value="repetition">Répétition</option><option value="prestation">Prestation</option><option value="goudi_aldiouma">Goudi Aldiouma</option><option value="formation">Formation</option><option value="reunion">Réunion</option>',5)])],512),[[ne,d.value.type]])]),e("div",null,[v[26]||(v[26]=e("label",{class:"block text-sm font-medium text-gray-700 mb-2"},"Statut",-1)),D(e("select",{"onUpdate:modelValue":v[1]||(v[1]=b=>d.value.statut=b),class:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent"},[...v[25]||(v[25]=[de('<option value="planifie">Planifié</option><option value="confirme">Confirmé</option><option value="en_cours">En cours</option><option value="termine">Terminé</option><option value="annule">Annulé</option>',5)])],512),[[ne,d.value.statut]])])]),e("div",null,[v[27]||(v[27]=e("label",{class:"block text-sm font-medium text-gray-700 mb-2"},"Nom de l'activité *",-1)),D(e("input",{"onUpdate:modelValue":v[2]||(v[2]=b=>d.value.nom=b),type:"text",required:"",class:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent"},null,512),[[W,d.value.nom]])]),e("div",null,[v[28]||(v[28]=e("label",{class:"block text-sm font-medium text-gray-700 mb-2"},"Description",-1)),D(e("textarea",{"onUpdate:modelValue":v[3]||(v[3]=b=>d.value.description=b),rows:"3",class:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent"},null,512),[[W,d.value.description]])]),e("div",ja,[e("div",null,[v[29]||(v[29]=e("label",{class:"block text-sm font-medium text-gray-700 mb-2"},"Date et heure de début *",-1)),D(e("input",{"onUpdate:modelValue":v[4]||(v[4]=b=>d.value.date_debut=b),type:"datetime-local",required:"",class:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent"},null,512),[[W,d.value.date_debut]])]),e("div",null,[v[30]||(v[30]=e("label",{class:"block text-sm font-medium text-gray-700 mb-2"},"Date et heure de fin *",-1)),D(e("input",{"onUpdate:modelValue":v[5]||(v[5]=b=>d.value.date_fin=b),type:"datetime-local",required:"",class:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent"},null,512),[[W,d.value.date_fin]])])]),e("div",null,[v[31]||(v[31]=e("label",{class:"block text-sm font-medium text-gray-700 mb-2"},"Lieu",-1)),D(e("input",{"onUpdate:modelValue":v[6]||(v[6]=b=>d.value.lieu=b),type:"text",class:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent"},null,512),[[W,d.value.lieu]])]),e("div",null,[v[33]||(v[33]=e("label",{class:"block text-sm font-medium text-gray-700 mb-2"},"Responsable",-1)),D(e("select",{"onUpdate:modelValue":v[7]||(v[7]=b=>d.value.responsable_id=b),class:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent"},[v[32]||(v[32]=e("option",{value:""},"Sélectionner un responsable",-1)),(h(!0),_(Z,null,G(p.value,b=>(h(),_("option",{key:b.id,value:b.id},u(b.nom_complet),9,Sa))),128))],512),[[ne,d.value.responsable_id]])]),e("div",Ta,[e("button",{type:"button",onClick:J,class:"px-4 py-2 border border-gray-300 rounded-lg hover:bg-gray-50 transition-colors"}," Annuler "),e("button",Ra,u(o.value?"Modifier":"Créer"),1)])],32)])])):U("",!0),n.value?(h(),_("div",{key:1,class:"modal-overlay",onClick:M},[e("div",{class:"modal-content max-w-4xl",onClick:v[9]||(v[9]=te(()=>{},["stop"]))},[e("div",Ea,[e("h3",Ma,u((re=r.value)==null?void 0:re.nom),1),e("button",{onClick:M,class:"p-2 text-gray-400 hover:text-gray-600 transition-colors"},[C(j(Ne),{class:"w-6 h-6"})])]),r.value?(h(),_("div",Pa,[e("div",Da,[e("div",Oa,[v[39]||(v[39]=e("h4",{class:"font-semibold text-gray-900 mb-3"},"Informations",-1)),e("div",Fa,[e("div",Na,[v[34]||(v[34]=e("span",{class:"text-gray-600"},"Type:",-1)),e("span",Ua,u(r.value.type),1)]),e("div",Ba,[v[35]||(v[35]=e("span",{class:"text-gray-600"},"Statut:",-1)),e("span",{class:V([H(r.value.statut),"px-2 py-1 rounded-full text-xs font-medium"])},u(r.value.statut),3)]),e("div",La,[v[36]||(v[36]=e("span",{class:"text-gray-600"},"Début:",-1)),e("span",qa,u(S(r.value.date_debut)),1)]),e("div",Ia,[v[37]||(v[37]=e("span",{class:"text-gray-600"},"Fin:",-1)),e("span",Va,u(S(r.value.date_fin)),1)]),e("div",Ha,[v[38]||(v[38]=e("span",{class:"text-gray-600"},"Lieu:",-1)),e("span",za,u(r.value.lieu||"Non spécifié"),1)])])]),e("div",Ja,[v[45]||(v[45]=e("h4",{class:"font-semibold text-gray-900 mb-3"},"Statistiques",-1)),e("div",Za,[e("div",Ga,[v[40]||(v[40]=e("span",{class:"text-gray-600"},"Total présences:",-1)),e("span",Wa,u(r.value.presences_count||0),1)]),e("div",Ka,[v[41]||(v[41]=e("span",{class:"text-gray-600"},"Présents:",-1)),e("span",Xa,u(r.value.presents_count||0),1)]),e("div",Ya,[v[42]||(v[42]=e("span",{class:"text-gray-600"},"Absents:",-1)),e("span",Qa,u(r.value.absents_count||0),1)]),e("div",el,[v[43]||(v[43]=e("span",{class:"text-gray-600"},"Retards:",-1)),e("span",tl,u(r.value.retards_count||0),1)]),e("div",sl,[v[44]||(v[44]=e("span",{class:"text-gray-600"},"Taux de présence:",-1)),e("span",nl,u(r.value.taux_presence||0)+"%",1)])])])]),e("div",ol,[e("div",rl,[v[47]||(v[47]=e("h4",{class:"font-semibold text-gray-900 mb-4"},"Liste des Présences",-1)),e("div",il,[e("table",al,[v[46]||(v[46]=e("thead",null,[e("tr",null,[e("th",{class:"text-left"},"Membre"),e("th",{class:"text-left"},"Statut"),e("th",{class:"text-left"},"Heure d'arrivée"),e("th",{class:"text-left"},"Retard"),e("th",{class:"text-left"},"Justification"),e("th",{class:"text-right"},"Actions")])],-1)),e("tbody",null,[(h(!0),_(Z,null,G(m.value,b=>(h(),_("tr",{key:b.id,class:"hover:bg-gray-50"},[e("td",ll,[e("div",ul,[e("img",{src:b.membre.photo_url||"https://images.unsplash.com/photo-1472099645785-5658abf4ff4e?w=40&h=40&fit=crop&crop=face",alt:b.membre.nom_complet,class:"w-8 h-8 rounded-full"},null,8,dl),e("span",cl,u(b.membre.nom_complet),1)])]),e("td",pl,[e("span",{class:V([X(b.statut),"px-2 py-1 rounded-full text-xs font-medium"])},u(b.statut),3)]),e("td",ml,[e("span",fl,u(b.heure_arrivee?S(b.heure_arrivee):"-"),1)]),e("td",gl,[b.minutes_retard>0?(h(),_("span",vl,u(b.minutes_retard)+" min ",1)):(h(),_("span",bl,"-"))]),e("td",xl,[e("span",yl,u(b.justification||"-"),1)]),e("td",hl,[e("div",_l,[e("button",{onClick:l=>ee(b),class:"p-2 text-gray-400 hover:text-blue-600 transition-colors",title:"Modifier la présence"},[C(j(Ue),{class:"w-4 h-4"})],8,wl)])])]))),128))])])])])])])):U("",!0)])])):U("",!0)])}}},kl={class:"space-y-8"},Cl={class:"flex items-center justify-between"},Al={class:"flex items-center space-x-4"},jl={class:"grid grid-cols-1 md:grid-cols-4 gap-6"},Sl={class:"kpi-card hover-lift"},Tl={class:"flex items-center justify-between"},Rl={class:"kpi-value"},El={class:"kpi-change positive"},Ml={class:"w-12 h-12 bg-purple-100 rounded-lg flex items-center justify-center"},Pl={class:"kpi-card hover-lift"},Dl={class:"flex items-center justify-between"},Ol={class:"kpi-value"},Fl={class:"kpi-change positive"},Nl={class:"w-12 h-12 bg-blue-100 rounded-lg flex items-center justify-center"},Ul={class:"kpi-card hover-lift"},Bl={class:"flex items-center justify-between"},Ll={class:"kpi-value"},ql={class:"kpi-change positive"},Il={class:"w-12 h-12 bg-green-100 rounded-lg flex items-center justify-center"},Vl={class:"kpi-card hover-lift"},Hl={class:"flex items-center justify-between"},zl={class:"kpi-value"},Jl={class:"kpi-change positive"},Zl={class:"w-12 h-12 bg-orange-100 rounded-lg flex items-center justify-center"},Gl={class:"card-modern p-6"},Wl={class:"grid grid-cols-1 md:grid-cols-4 gap-4"},Kl={class:"grid grid-cols-1 lg:grid-cols-2 xl:grid-cols-3 gap-6"},Xl=["onClick"],Yl={class:"flex items-start justify-between mb-4"},Ql={class:"flex-1"},eu={class:"text-lg font-semibold text-gray-900 mb-1"},tu={class:"text-sm text-gray-600"},su={class:"space-y-3 mb-4"},nu={class:"flex items-center space-x-2"},ou={class:"text-sm text-gray-600"},ru={class:"flex items-center space-x-2"},iu={class:"text-sm text-gray-600"},au={key:0,class:"flex items-center space-x-2"},lu={class:"text-sm text-gray-600"},uu={class:"text-sm text-gray-600 mb-4 line-clamp-2"},du={class:"flex items-center justify-between pt-4 border-t border-gray-200"},cu={class:"flex items-center space-x-2"},pu={class:"text-sm text-gray-600"},mu={class:"flex space-x-2"},fu=["onClick"],gu=["onClick"],vu={class:"flex items-center justify-center space-x-4"},bu=["disabled"],xu={class:"text-sm text-gray-700"},yu=["disabled"],hu={class:"text-lg font-semibold text-gray-900 mb-6"},_u={class:"grid grid-cols-1 md:grid-cols-2 gap-4"},wu={class:"grid grid-cols-1 md:grid-cols-2 gap-4"},$u={class:"grid grid-cols-1 md:grid-cols-2 gap-4"},ku={class:"flex items-center justify-end space-x-4 pt-6"},Cu={type:"submit",class:"btn-modern"},Au={class:"flex items-center justify-between mb-6"},ju={class:"text-lg font-semibold text-gray-900"},Su={key:0,class:"space-y-6"},Tu={class:"grid grid-cols-1 md:grid-cols-2 gap-6"},Ru={class:"card-modern p-4"},Eu={class:"space-y-2 text-sm"},Mu={class:"flex justify-between"},Pu={class:"font-medium"},Du={class:"flex justify-between"},Ou={class:"flex justify-between"},Fu={class:"font-medium"},Nu={class:"flex justify-between"},Uu={class:"font-medium"},Bu={class:"flex justify-between"},Lu={class:"font-medium"},qu={key:0,class:"flex justify-between"},Iu={class:"font-medium"},Vu={class:"card-modern p-4"},Hu={class:"space-y-2 text-sm"},zu={class:"flex justify-between"},Ju={class:"font-medium"},Zu={class:"flex justify-between"},Gu={class:"font-medium"},Wu={class:"flex justify-between"},Ku={class:"font-medium"},Xu={class:"flex justify-between"},Yu={class:"font-medium"},Qu={class:"flex justify-between"},ed={class:"font-medium"},td={key:0,class:"card-modern p-4"},sd={class:"text-sm text-gray-600"},nd={key:1,class:"card-modern p-4"},od={class:"grid grid-cols-1 md:grid-cols-2 gap-4 text-sm"},rd={class:"text-gray-600 capitalize"},id={class:"font-medium"},ad={class:"flex items-center justify-between mb-6"},ld={class:"text-lg font-semibold text-gray-900"},ud={key:0,class:"space-y-6"},dd={class:"border-b border-gray-200"},cd={class:"flex space-x-8"},pd=["onClick"],md={class:"space-y-4"},fd={class:"flex items-center justify-between"},gd={class:"font-semibold text-gray-900"},vd={class:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4"},bd=["onClick"],xd={class:"flex items-center space-x-3"},yd=["src","alt"],hd={class:"flex-1"},_d={class:"font-medium text-gray-900"},wd={class:"text-sm text-gray-600"},$d={key:0,class:"text-green-600"},kd=6,Cd={__name:"Evenements",setup(t){const s=E(!1),n=E(!1),o=E(!1),r=E(null),i=E(null),a=E("declamation"),d=E(1),p=E({type:"",statut:"",periode:""}),x=E({evenementsCetteAnnee:12,aVenir:4,budgetTotal:25e6,totalParticipants:156}),m=E({type:"magal",nom:"",description:"",date_debut:"",date_fin:"",lieu:"",budget:"",statut:"planifie"}),w=E([{id:1,nom_complet:"Moussa Fall",profession:"Ingénieur",photo_url:null},{id:2,nom_complet:"Aminata Diop",profession:"Enseignante",photo_url:null},{id:3,nom_complet:"Ibrahima Ba",profession:"Médecin",photo_url:null},{id:4,nom_complet:"Fatou Sall",profession:"Avocate",photo_url:null},{id:5,nom_complet:"Cheikh Ndiaye",profession:"Imam",photo_url:null}]),A=E([{id:1,type:"magal",type_francais:"Magal",nom:"Magal de Touba 2025",description:"Célébration annuelle du Magal de Touba avec participation de notre dahira",date_debut:"2025-02-15T08:00:00",date_fin:"2025-02-17T18:00:00",lieu:"Touba, Sénégal",budget:5e6,statut:"planifie",statut_francais:"Planifié",membres_selectionnes:{declamation:[1,5],chorale:[2,3,4],animation:[1,2],organisation:[3,4,5]},configuration:{dress_code:"Tenue traditionnelle blanche",transport:"Bus organisé",hebergement:"Hôtel réservé"},nombre_total_membres:8},{id:2,type:"gamou",type_francais:"Gamou",nom:"Gamou de Tivaouane",description:"Participation au Gamou de Tivaouane",date_debut:"2025-03-20T10:00:00",date_fin:"2025-03-22T16:00:00",lieu:"Tivaouane, Sénégal",budget:3e6,statut:"confirme",statut_francais:"Confirmé",membres_selectionnes:{declamation:[1,5],chorale:[2,3],animation:[1,2,4]},configuration:{dress_code:"Tenue traditionnelle",transport:"Voitures personnelles"},nombre_total_membres:6},{id:3,type:"promokhane",type_francais:"Promokhane",nom:"Promokhane Annuel",description:"Promokhane annuel de notre dahira",date_debut:"2025-04-10T19:00:00",date_fin:"2025-04-10T23:00:00",lieu:"Salle des fêtes municipale",budget:15e5,statut:"termine",statut_francais:"Terminé",membres_selectionnes:{declamation:[1,2,5],chorale:[2,3,4],animation:[1,2,3,4,5]},configuration:{dress_code:"Tenue de soirée",repas:"Buffet organisé"},nombre_total_membres:10}]),I=[{id:"declamation",label:"Déclamation"},{id:"chorale",label:"Chorale"},{id:"animation",label:"Animation"},{id:"organisation",label:"Organisation"},{id:"logistique",label:"Logistique"}],$=me(()=>{let T=A.value;if(p.value.type&&(T=T.filter(f=>f.type===p.value.type)),p.value.statut&&(T=T.filter(f=>f.statut===p.value.statut)),p.value.periode){const f=new Date;switch(p.value.periode){case"a_venir":T=T.filter(Q=>new Date(Q.date_debut)>f);break;case"en_cours":T=T.filter(Q=>{const be=new Date(Q.date_debut),ye=new Date(Q.date_fin);return f>=be&&f<=ye});break;case"termines":T=T.filter(Q=>new Date(Q.date_fin)<f);break;case"cette_annee":const le=f.getFullYear();T=T.filter(Q=>new Date(Q.date_debut).getFullYear()===le);break}}return T}),R=me(()=>Math.ceil($.value.length/kd)),S=me(()=>w.value),q=T=>new Intl.NumberFormat("fr-FR",{style:"currency",currency:"XOF",minimumFractionDigits:0}).format(T),z=T=>new Date(T).toLocaleDateString("fr-FR",{day:"numeric",month:"short",year:"numeric",hour:"2-digit",minute:"2-digit"}),B=T=>({planifie:"bg-gray-100 text-gray-800",confirme:"bg-blue-100 text-blue-800",en_cours:"bg-green-100 text-green-800",termine:"bg-gray-100 text-gray-800",annule:"bg-red-100 text-red-800"})[T]||"bg-gray-100 text-gray-800",H=()=>I.find(T=>T.id===a.value)||I[0],X=T=>{var Q;if(!((Q=i.value)!=null&&Q.membres_selectionnes))return!1;const f=a.value;return(i.value.membres_selectionnes[f]||[]).includes(T)},se=()=>{r.value=null,m.value={type:"magal",nom:"",description:"",date_debut:"",date_fin:"",lieu:"",budget:"",statut:"planifie"},s.value=!0},J=()=>{s.value=!1,r.value=null},ie=()=>{if(r.value){const T=A.value.findIndex(f=>f.id===r.value.id);T!==-1&&(A.value[T]={...A.value[T],...m.value})}else{const T={id:Date.now(),...m.value,type_francais:Y(m.value.type),statut_francais:k(m.value.statut),membres_selectionnes:{},configuration:{},nombre_total_membres:0};A.value.push(T)}J(),window.addToast("Événement sauvegardé avec succès !","success")},ae=T=>{i.value=T,n.value=!0},M=()=>{n.value=!1,i.value=null},y=T=>{r.value=T,m.value={...T},s.value=!0},c=T=>{i.value=T,a.value="declamation",o.value=!0},K=()=>{o.value=!1,i.value=null},ee=T=>{if(!i.value)return;const f=a.value;i.value.membres_selectionnes||(i.value.membres_selectionnes={}),i.value.membres_selectionnes[f]||(i.value.membres_selectionnes[f]=[]);const le=i.value.membres_selectionnes[f],Q=le.indexOf(T);Q>-1?le.splice(Q,1):le.push(T),i.value.nombre_total_membres=Object.values(i.value.membres_selectionnes).flat().filter((be,ye,Ie)=>Ie.indexOf(be)===ye).length},F=()=>{window.addToast("Fonctionnalité d'ajout de participant","info")},v=()=>{K(),window.addToast("Participants sauvegardés avec succès !","success")},re=()=>{p.value={type:"",statut:"",periode:""}},b=()=>{d.value>1&&d.value--},l=()=>{d.value<R.value&&d.value++},Y=T=>({magal:"Magal",gamou:"Gamou",promokhane:"Promokhane",conference:"Conférence",formation:"Formation",autre:"Autre"})[T]||"Autre",k=T=>({planifie:"Planifié",confirme:"Confirmé",en_cours:"En cours",termine:"Terminé",annule:"Annulé"})[T]||"Planifié";return Ae(()=>{console.log("Composant Événements initialisé")}),(T,f)=>{var le,Q,be,ye,Ie,_t,wt,$t,kt,Ct;return h(),_("div",kl,[e("div",Cl,[f[15]||(f[15]=e("div",null,[e("h1",{class:"text-3xl font-bold text-gray-900"},"Gestion des Événements"),e("p",{class:"text-gray-600 mt-2"},"Organisez les événements spéciaux (Magal, Gamou, Promokhane...)")],-1)),e("div",Al,[e("button",{class:"btn-modern",onClick:se},[C(j(xe),{class:"w-5 h-5 mr-2"}),f[14]||(f[14]=L(" Nouvel événement ",-1))])])]),e("div",jl,[e("div",Sl,[e("div",Tl,[e("div",null,[f[17]||(f[17]=e("p",{class:"text-sm font-medium text-gray-600"},"Événements cette année",-1)),e("p",Rl,u(x.value.evenementsCetteAnnee),1),e("div",El,[C(j(ce),{class:"w-4 h-4"}),f[16]||(f[16]=L(" +3 cette année ",-1))])]),e("div",Ml,[C(j(Oe),{class:"w-6 h-6 text-purple-600"})])])]),e("div",Pl,[e("div",Dl,[e("div",null,[f[19]||(f[19]=e("p",{class:"text-sm font-medium text-gray-600"},"À venir",-1)),e("p",Ol,u(x.value.aVenir),1),e("div",Fl,[C(j(ce),{class:"w-4 h-4"}),f[18]||(f[18]=L(" +1 ce mois ",-1))])]),e("div",Nl,[C(j(mt),{class:"w-6 h-6 text-blue-600"})])])]),e("div",Ul,[e("div",Bl,[e("div",null,[f[21]||(f[21]=e("p",{class:"text-sm font-medium text-gray-600"},"Budget total",-1)),e("p",Ll,u(q(x.value.budgetTotal)),1),e("div",ql,[C(j(ce),{class:"w-4 h-4"}),f[20]||(f[20]=L(" +12% cette année ",-1))])]),e("div",Il,[C(j(Se),{class:"w-6 h-6 text-green-600"})])])]),e("div",Vl,[e("div",Hl,[e("div",null,[f[23]||(f[23]=e("p",{class:"text-sm font-medium text-gray-600"},"Participants",-1)),e("p",zl,u(x.value.totalParticipants),1),e("div",Jl,[C(j(ce),{class:"w-4 h-4"}),f[22]||(f[22]=L(" +25 ce mois ",-1))])]),e("div",Zl,[C(j(Fe),{class:"w-6 h-6 text-orange-600"})])])])]),e("div",Gl,[e("div",Wl,[e("div",null,[f[25]||(f[25]=e("label",{class:"block text-sm font-medium text-gray-700 mb-2"},"Type d'événement",-1)),D(e("select",{"onUpdate:modelValue":f[0]||(f[0]=P=>p.value.type=P),class:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent"},[...f[24]||(f[24]=[de('<option value="">Tous les types</option><option value="magal">Magal</option><option value="gamou">Gamou</option><option value="promokhane">Promokhane</option><option value="conference">Conférence</option><option value="formation">Formation</option><option value="autre">Autre</option>',7)])],512),[[ne,p.value.type]])]),e("div",null,[f[27]||(f[27]=e("label",{class:"block text-sm font-medium text-gray-700 mb-2"},"Statut",-1)),D(e("select",{"onUpdate:modelValue":f[1]||(f[1]=P=>p.value.statut=P),class:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent"},[...f[26]||(f[26]=[de('<option value="">Tous les statuts</option><option value="planifie">Planifié</option><option value="confirme">Confirmé</option><option value="en_cours">En cours</option><option value="termine">Terminé</option><option value="annule">Annulé</option>',6)])],512),[[ne,p.value.statut]])]),e("div",null,[f[29]||(f[29]=e("label",{class:"block text-sm font-medium text-gray-700 mb-2"},"Période",-1)),D(e("select",{"onUpdate:modelValue":f[2]||(f[2]=P=>p.value.periode=P),class:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent"},[...f[28]||(f[28]=[de('<option value="">Toutes les périodes</option><option value="a_venir">À venir</option><option value="en_cours">En cours</option><option value="termines">Terminés</option><option value="cette_annee">Cette année</option>',5)])],512),[[ne,p.value.periode]])]),e("div",{class:"flex items-end"},[e("button",{onClick:re,class:"w-full px-4 py-2 border border-gray-300 rounded-lg hover:bg-gray-50 transition-colors"}," Réinitialiser ")])])]),e("div",Kl,[(h(!0),_(Z,null,G($.value,P=>(h(),_("div",{key:P.id,class:"card-modern p-6 hover-lift cursor-pointer",onClick:he=>ae(P)},[e("div",Yl,[e("div",Ql,[e("h3",eu,u(P.nom),1),e("p",tu,u(P.type_francais),1)]),e("span",{class:V([B(P.statut),"px-2 py-1 rounded-full text-xs font-medium"])},u(P.statut_francais),3)]),e("div",su,[e("div",nu,[C(j(Oe),{class:"w-4 h-4 text-gray-400"}),e("span",ou,u(z(P.date_debut)),1)]),e("div",ru,[C(j(Ss),{class:"w-4 h-4 text-gray-400"}),e("span",iu,u(P.lieu||"Lieu non spécifié"),1)]),P.budget?(h(),_("div",au,[C(j(Se),{class:"w-4 h-4 text-gray-400"}),e("span",lu,u(q(P.budget)),1)])):U("",!0)]),e("p",uu,u(P.description||"Aucune description"),1),e("div",du,[e("div",cu,[C(j(Fe),{class:"w-4 h-4 text-gray-400"}),e("span",pu,u(P.nombre_total_membres)+" participants",1)]),e("div",mu,[e("button",{onClick:te(he=>y(P),["stop"]),class:"p-2 text-gray-400 hover:text-green-600 transition-colors",title:"Éditer"},[C(j(Ue),{class:"w-4 h-4"})],8,fu),e("button",{onClick:te(he=>c(P),["stop"]),class:"p-2 text-gray-400 hover:text-blue-600 transition-colors",title:"Gérer les participants"},[C(j(ze),{class:"w-4 h-4"})],8,gu)])])],8,Xl))),128))]),e("div",vu,[e("button",{onClick:b,disabled:d.value===1,class:"px-4 py-2 border border-gray-300 rounded-lg disabled:opacity-50 disabled:cursor-not-allowed hover:bg-gray-50"}," Précédent ",8,bu),e("span",xu," Page "+u(d.value)+" sur "+u(R.value),1),e("button",{onClick:l,disabled:d.value===R.value,class:"px-4 py-2 border border-gray-300 rounded-lg disabled:opacity-50 disabled:cursor-not-allowed hover:bg-gray-50"}," Suivant ",8,yu)]),s.value?(h(),_("div",{key:0,class:"modal-overlay",onClick:J},[e("div",{class:"modal-content max-w-2xl",onClick:f[11]||(f[11]=te(()=>{},["stop"]))},[e("h3",hu,u(r.value?"Modifier l'événement":"Nouvel événement"),1),e("form",{onSubmit:te(ie,["prevent"]),class:"space-y-4"},[e("div",_u,[e("div",null,[f[31]||(f[31]=e("label",{class:"block text-sm font-medium text-gray-700 mb-2"},"Type d'événement *",-1)),D(e("select",{"onUpdate:modelValue":f[3]||(f[3]=P=>m.value.type=P),required:"",class:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent"},[...f[30]||(f[30]=[de('<option value="magal">Magal</option><option value="gamou">Gamou</option><option value="promokhane">Promokhane</option><option value="conference">Conférence</option><option value="formation">Formation</option><option value="autre">Autre</option>',6)])],512),[[ne,m.value.type]])]),e("div",null,[f[33]||(f[33]=e("label",{class:"block text-sm font-medium text-gray-700 mb-2"},"Statut",-1)),D(e("select",{"onUpdate:modelValue":f[4]||(f[4]=P=>m.value.statut=P),class:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent"},[...f[32]||(f[32]=[de('<option value="planifie">Planifié</option><option value="confirme">Confirmé</option><option value="en_cours">En cours</option><option value="termine">Terminé</option><option value="annule">Annulé</option>',5)])],512),[[ne,m.value.statut]])])]),e("div",null,[f[34]||(f[34]=e("label",{class:"block text-sm font-medium text-gray-700 mb-2"},"Nom de l'événement *",-1)),D(e("input",{"onUpdate:modelValue":f[5]||(f[5]=P=>m.value.nom=P),type:"text",required:"",class:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent"},null,512),[[W,m.value.nom]])]),e("div",null,[f[35]||(f[35]=e("label",{class:"block text-sm font-medium text-gray-700 mb-2"},"Description",-1)),D(e("textarea",{"onUpdate:modelValue":f[6]||(f[6]=P=>m.value.description=P),rows:"3",class:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent"},null,512),[[W,m.value.description]])]),e("div",wu,[e("div",null,[f[36]||(f[36]=e("label",{class:"block text-sm font-medium text-gray-700 mb-2"},"Date et heure de début *",-1)),D(e("input",{"onUpdate:modelValue":f[7]||(f[7]=P=>m.value.date_debut=P),type:"datetime-local",required:"",class:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent"},null,512),[[W,m.value.date_debut]])]),e("div",null,[f[37]||(f[37]=e("label",{class:"block text-sm font-medium text-gray-700 mb-2"},"Date et heure de fin *",-1)),D(e("input",{"onUpdate:modelValue":f[8]||(f[8]=P=>m.value.date_fin=P),type:"datetime-local",required:"",class:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent"},null,512),[[W,m.value.date_fin]])])]),e("div",$u,[e("div",null,[f[38]||(f[38]=e("label",{class:"block text-sm font-medium text-gray-700 mb-2"},"Lieu",-1)),D(e("input",{"onUpdate:modelValue":f[9]||(f[9]=P=>m.value.lieu=P),type:"text",class:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent"},null,512),[[W,m.value.lieu]])]),e("div",null,[f[39]||(f[39]=e("label",{class:"block text-sm font-medium text-gray-700 mb-2"},"Budget (FCFA)",-1)),D(e("input",{"onUpdate:modelValue":f[10]||(f[10]=P=>m.value.budget=P),type:"number",min:"0",step:"1000",class:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent"},null,512),[[W,m.value.budget]])])]),e("div",ku,[e("button",{type:"button",onClick:J,class:"px-4 py-2 border border-gray-300 rounded-lg hover:bg-gray-50 transition-colors"}," Annuler "),e("button",Cu,u(r.value?"Modifier":"Créer"),1)])],32)])])):U("",!0),n.value?(h(),_("div",{key:1,class:"modal-overlay",onClick:M},[e("div",{class:"modal-content max-w-4xl",onClick:f[12]||(f[12]=te(()=>{},["stop"]))},[e("div",Au,[e("h3",ju,u((le=i.value)==null?void 0:le.nom),1),e("button",{onClick:M,class:"p-2 text-gray-400 hover:text-gray-600 transition-colors"},[C(j(Ne),{class:"w-6 h-6"})])]),i.value?(h(),_("div",Su,[e("div",Tu,[e("div",Ru,[f[46]||(f[46]=e("h4",{class:"font-semibold text-gray-900 mb-3"},"Informations",-1)),e("div",Eu,[e("div",Mu,[f[40]||(f[40]=e("span",{class:"text-gray-600"},"Type:",-1)),e("span",Pu,u(i.value.type_francais),1)]),e("div",Du,[f[41]||(f[41]=e("span",{class:"text-gray-600"},"Statut:",-1)),e("span",{class:V([B(i.value.statut),"px-2 py-1 rounded-full text-xs font-medium"])},u(i.value.statut_francais),3)]),e("div",Ou,[f[42]||(f[42]=e("span",{class:"text-gray-600"},"Début:",-1)),e("span",Fu,u(z(i.value.date_debut)),1)]),e("div",Nu,[f[43]||(f[43]=e("span",{class:"text-gray-600"},"Fin:",-1)),e("span",Uu,u(z(i.value.date_fin)),1)]),e("div",Bu,[f[44]||(f[44]=e("span",{class:"text-gray-600"},"Lieu:",-1)),e("span",Lu,u(i.value.lieu||"Non spécifié"),1)]),i.value.budget?(h(),_("div",qu,[f[45]||(f[45]=e("span",{class:"text-gray-600"},"Budget:",-1)),e("span",Iu,u(q(i.value.budget)),1)])):U("",!0)])]),e("div",Vu,[f[52]||(f[52]=e("h4",{class:"font-semibold text-gray-900 mb-3"},"Participants",-1)),e("div",Hu,[e("div",zu,[f[47]||(f[47]=e("span",{class:"text-gray-600"},"Total participants:",-1)),e("span",Ju,u(i.value.nombre_total_membres),1)]),e("div",Zu,[f[48]||(f[48]=e("span",{class:"text-gray-600"},"Déclamation:",-1)),e("span",Gu,u(((be=(Q=i.value.membres_selectionnes)==null?void 0:Q.declamation)==null?void 0:be.length)||0),1)]),e("div",Wu,[f[49]||(f[49]=e("span",{class:"text-gray-600"},"Chorale:",-1)),e("span",Ku,u(((Ie=(ye=i.value.membres_selectionnes)==null?void 0:ye.chorale)==null?void 0:Ie.length)||0),1)]),e("div",Xu,[f[50]||(f[50]=e("span",{class:"text-gray-600"},"Animation:",-1)),e("span",Yu,u(((wt=(_t=i.value.membres_selectionnes)==null?void 0:_t.animation)==null?void 0:wt.length)||0),1)]),e("div",Qu,[f[51]||(f[51]=e("span",{class:"text-gray-600"},"Organisation:",-1)),e("span",ed,u(((kt=($t=i.value.membres_selectionnes)==null?void 0:$t.organisation)==null?void 0:kt.length)||0),1)])])])]),i.value.description?(h(),_("div",td,[f[53]||(f[53]=e("h4",{class:"font-semibold text-gray-900 mb-3"},"Description",-1)),e("p",sd,u(i.value.description),1)])):U("",!0),i.value.configuration?(h(),_("div",nd,[f[54]||(f[54]=e("h4",{class:"font-semibold text-gray-900 mb-3"},"Configuration",-1)),e("div",od,[(h(!0),_(Z,null,G(i.value.configuration,(P,he)=>(h(),_("div",{key:he,class:"flex justify-between"},[e("span",rd,u(he.replace("_"," "))+":",1),e("span",id,u(P),1)]))),128))])])):U("",!0)])):U("",!0)])])):U("",!0),o.value?(h(),_("div",{key:2,class:"modal-overlay",onClick:K},[e("div",{class:"modal-content max-w-4xl",onClick:f[13]||(f[13]=te(()=>{},["stop"]))},[e("div",ad,[e("h3",ld," Gérer les participants - "+u((Ct=i.value)==null?void 0:Ct.nom),1),e("button",{onClick:K,class:"p-2 text-gray-400 hover:text-gray-600 transition-colors"},[C(j(Ne),{class:"w-6 h-6"})])]),i.value?(h(),_("div",ud,[e("div",dd,[e("nav",cd,[(h(),_(Z,null,G(I,P=>e("button",{key:P.id,onClick:he=>a.value=P.id,class:V(["py-4 px-1 border-b-2 font-medium text-sm transition-colors",a.value===P.id?"border-blue-500 text-blue-600":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300"])},u(P.label),11,pd)),64))])]),e("div",md,[e("div",fd,[e("h4",gd,u(H().label),1),e("button",{onClick:F,class:"btn-modern"},[C(j(xe),{class:"w-4 h-4 mr-2"}),f[55]||(f[55]=L(" Ajouter un participant ",-1))])]),e("div",vd,[(h(!0),_(Z,null,G(S.value,P=>(h(),_("div",{key:P.id,class:V(["p-4 border rounded-lg cursor-pointer transition-colors",X(P.id)?"border-green-300 bg-green-50":"border-gray-200 hover:border-gray-300"]),onClick:he=>ee(P.id)},[e("div",xd,[e("img",{src:P.photo_url||"https://images.unsplash.com/photo-1472099645785-5658abf4ff4e?w=40&h=40&fit=crop&crop=face",alt:P.nom_complet,class:"w-10 h-10 rounded-full"},null,8,yd),e("div",hd,[e("p",_d,u(P.nom_complet),1),e("p",wd,u(P.profession||"Membre"),1)]),X(P.id)?(h(),_("div",$d,[C(j(Jt),{class:"w-5 h-5"})])):U("",!0)])],10,bd))),128))])]),e("div",{class:"flex items-center justify-end space-x-4 pt-6 border-t border-gray-200"},[e("button",{onClick:K,class:"px-4 py-2 border border-gray-300 rounded-lg hover:bg-gray-50 transition-colors"}," Fermer "),e("button",{onClick:v,class:"btn-modern"}," Sauvegarder ")])])):U("",!0)])])):U("",!0)])}}},Ad={class:"space-y-8"},jd={class:"flex items-center justify-between"},Sd={class:"flex items-center space-x-4"},Td={class:"grid grid-cols-1 md:grid-cols-4 gap-6"},Rd={class:"kpi-card hover-lift"},Ed={class:"flex items-center justify-between"},Md={class:"kpi-value"},Pd={class:"kpi-change negative"},Dd={class:"w-12 h-12 bg-red-100 rounded-lg flex items-center justify-center"},Od={class:"kpi-card hover-lift"},Fd={class:"flex items-center justify-between"},Nd={class:"kpi-value"},Ud={class:"kpi-change negative"},Bd={class:"w-12 h-12 bg-purple-100 rounded-lg flex items-center justify-center"},Ld={class:"kpi-card hover-lift"},qd={class:"flex items-center justify-between"},Id={class:"kpi-value"},Vd={class:"kpi-change positive"},Hd={class:"w-12 h-12 bg-green-100 rounded-lg flex items-center justify-center"},zd={class:"kpi-card hover-lift"},Jd={class:"flex items-center justify-between"},Zd={class:"kpi-value"},Gd={class:"kpi-change positive"},Wd={class:"w-12 h-12 bg-blue-100 rounded-lg flex items-center justify-center"},Kd={class:"card-modern p-6"},Xd={class:"grid grid-cols-1 md:grid-cols-5 gap-4"},Yd=["value"],Qd={class:"card-modern"},ec={class:"border-b border-gray-200"},tc={class:"flex space-x-8 px-6"},sc=["onClick"],nc={class:"p-6"},oc={key:0},rc={class:"space-y-4"},ic=["onClick"],ac={class:"flex items-start justify-between"},lc={class:"flex items-start space-x-3"},uc={class:"flex-1"},dc={class:"font-semibold text-gray-900"},cc={class:"text-sm text-gray-600 mt-1"},pc={class:"flex items-center space-x-4 mt-2 text-xs text-gray-500"},mc={key:0},fc={class:"flex items-center space-x-2"},gc={class:"flex space-x-1"},vc=["onClick"],bc=["onClick"],xc=["onClick"],yc={key:1},hc={class:"flex items-center justify-between mb-6"},_c={class:"grid grid-cols-1 lg:grid-cols-2 gap-6"},wc={class:"flex items-start justify-between mb-4"},$c={class:"font-semibold text-gray-900"},kc={class:"text-sm text-gray-600"},Cc={class:"flex items-center space-x-2"},Ac=["onClick"],jc={class:"space-y-2 text-sm"},Sc={class:"flex justify-between"},Tc={class:"font-medium"},Rc={class:"flex justify-between"},Ec={class:"font-medium"},Mc={class:"flex justify-between"},Pc={class:"flex justify-between"},Dc={class:"font-medium"},Oc={class:"flex items-center justify-between mt-4 pt-4 border-t border-gray-200"},Fc={class:"text-sm text-gray-600"},Nc={class:"flex space-x-2"},Uc=["onClick"],Bc={class:"flex items-center justify-between mb-6"},Lc={class:"text-lg font-semibold text-gray-900"},qc={key:0,class:"space-y-6"},Ic={class:"card-modern p-4"},Vc={class:"grid grid-cols-1 md:grid-cols-2 gap-4 text-sm"},Hc={class:"flex justify-between"},zc={class:"font-medium"},Jc={class:"flex justify-between"},Zc={class:"flex justify-between"},Gc={class:"flex justify-between"},Wc={class:"font-medium"},Kc={key:0,class:"flex justify-between"},Xc={class:"font-medium"},Yc={key:1,class:"flex justify-between"},Qc={class:"font-medium"},e0={class:"card-modern p-4"},t0={class:"text-sm text-gray-600"},s0={key:0,class:"card-modern p-4"},n0={class:"space-y-2 text-sm"},o0={key:0,class:"flex justify-between"},r0={class:"font-medium"},i0={key:1,class:"flex justify-between"},a0={class:"font-medium"},l0={key:2,class:"flex justify-between"},u0={class:"font-medium"},d0={class:"flex items-center justify-end space-x-4"},c0={class:"text-lg font-semibold text-gray-900 mb-6"},p0={class:"grid grid-cols-1 md:grid-cols-2 gap-4"},m0={class:"grid grid-cols-2 md:grid-cols-4 gap-4"},f0={class:"flex items-center space-x-2"},g0={class:"flex items-center space-x-2"},v0={class:"flex items-center space-x-2"},b0={class:"flex items-center space-x-2"},x0={class:"flex items-center justify-end space-x-4 pt-6"},y0={type:"submit",class:"btn-modern"},h0={__name:"Alertes",setup(t){const s=E("alertes"),n=E(!1),o=E(!1),r=E(null),i=E(null),a=E({type:"",niveau:"",statut:"",membre:""}),d=E({alertesActives:7,critiques:2,resolues:45,reglesActives:8}),p=E({type:"absence_repetitive",nom:"",description:"",condition:"",niveau_urgence:"warning",canaux:["email"]}),x=E([{id:1,nom_complet:"Moussa Fall"},{id:2,nom_complet:"Aminata Diop"},{id:3,nom_complet:"Ibrahima Ba"}]),m=E([{id:1,type:"absence_repetitive",type_francais:"Absence répétitive",titre:"Absences répétitives - Moussa Fall",message:"Moussa Fall a 3 absences consécutives aux répétitions",niveau_urgence:"warning",niveau_urgence_francais:"Attention",statut:"nouveau",statut_francais:"Nouveau",membre:{nom_complet:"Moussa Fall"},activite:{nom:"Répétition Chorale"},created_at:"2025-01-15T10:30:00",sent_at:null,resolved_at:null},{id:2,type:"cotisation_retard",type_francais:"Cotisation en retard",titre:"Cotisation en retard - Aminata Diop",message:"Aminata Diop a une cotisation en retard de 15 jours",niveau_urgence:"error",niveau_urgence_francais:"Erreur",statut:"envoye",statut_francais:"Envoyé",membre:{nom_complet:"Aminata Diop"},created_at:"2025-01-15T09:15:00",sent_at:"2025-01-15T09:20:00",resolved_at:null},{id:3,type:"evenement_majeur",type_francais:"Événement majeur",titre:"Événement majeur - Magal de Touba",message:"Le Magal de Touba approche, vérifiez la préparation",niveau_urgence:"info",niveau_urgence_francais:"Information",statut:"lu",statut_francais:"Lu",evenement:{nom:"Magal de Touba 2025"},created_at:"2025-01-14T16:45:00",sent_at:"2025-01-14T16:50:00",resolved_at:null}]),w=E([{id:1,type:"absence_repetitive",type_francais:"Absence répétitive",nom:"Absences répétitives",description:"Alerte en cas d'absences répétitives",condition:"3 absences consécutives",niveau_urgence:"warning",niveau_urgence_francais:"Attention",canaux:["email","sms"],actif:!0,alertes_generees:12},{id:2,type:"cotisation_retard",type_francais:"Cotisation en retard",nom:"Cotisations en retard",description:"Alerte pour les cotisations en retard",condition:"Retard de plus de 7 jours",niveau_urgence:"error",niveau_urgence_francais:"Erreur",canaux:["email","whatsapp"],actif:!0,alertes_generees:8},{id:3,type:"retard_excessif",type_francais:"Retard excessif",nom:"Retards excessifs",description:"Alerte pour les retards répétés",condition:"3 retards de plus de 10 minutes",niveau_urgence:"warning",niveau_urgence_francais:"Attention",canaux:["email"],actif:!1,alertes_generees:5}]),A=[{id:"alertes",label:"Alertes"},{id:"regles",label:"Règles"}],I=me(()=>{let b=m.value;return a.value.type&&(b=b.filter(l=>l.type===a.value.type)),a.value.niveau&&(b=b.filter(l=>l.niveau_urgence===a.value.niveau)),a.value.statut&&(b=b.filter(l=>l.statut===a.value.statut)),a.value.membre&&(b=b.filter(l=>{var Y;return((Y=l.membre)==null?void 0:Y.id)==a.value.membre})),b}),$=b=>new Date(b).toLocaleDateString("fr-FR"),R=b=>new Date(b).toLocaleDateString("fr-FR",{day:"numeric",month:"short",year:"numeric",hour:"2-digit",minute:"2-digit"}),S=b=>({critical:je,error:je,warning:Te,info:ke})[b]||ke,q=b=>({critical:"bg-red-100 text-red-600",error:"bg-red-100 text-red-600",warning:"bg-yellow-100 text-yellow-600",info:"bg-blue-100 text-blue-600"})[b]||"bg-gray-100 text-gray-600",z=b=>({critical:"border-red-200 bg-red-50",error:"border-red-200 bg-red-50",warning:"border-yellow-200 bg-yellow-50",info:"border-blue-200 bg-blue-50"})[b]||"border-gray-200 bg-gray-50",B=b=>({nouveau:"bg-blue-100 text-blue-800",envoye:"bg-yellow-100 text-yellow-800",lu:"bg-green-100 text-green-800",resolu:"bg-gray-100 text-gray-800"})[b]||"bg-gray-100 text-gray-800",H=b=>({critical:"bg-red-100 text-red-800",error:"bg-red-100 text-red-800",warning:"bg-yellow-100 text-yellow-800",info:"bg-blue-100 text-blue-800"})[b]||"bg-gray-100 text-gray-800",X=b=>{r.value=b,n.value=!0},se=()=>{n.value=!1,r.value=null},J=b=>{b.statut="lu",b.statut_francais="Lu",window.addToast("Alerte marquée comme lue","success")},ie=b=>{b.statut="resolu",b.statut_francais="Résolu",b.resolved_at=new Date().toISOString(),se(),window.addToast("Alerte résolue avec succès","success")},ae=b=>{if(confirm("Êtes-vous sûr de vouloir supprimer cette alerte ?")){const l=m.value.findIndex(Y=>Y.id===b.id);l!==-1&&(m.value.splice(l,1),window.addToast("Alerte supprimée avec succès","success"))}},M=()=>{i.value=null,p.value={type:"absence_repetitive",nom:"",description:"",condition:"",niveau_urgence:"warning",canaux:["email"]},o.value=!0},y=()=>{o.value=!1,i.value=null},c=()=>{if(i.value){const b=w.value.findIndex(l=>l.id===i.value.id);b!==-1&&(w.value[b]={...w.value[b],...p.value})}else{const b={id:Date.now(),...p.value,type_francais:v(p.value.type),niveau_urgence_francais:re(p.value.niveau_urgence),actif:!0,alertes_generees:0};w.value.push(b)}y(),window.addToast("Règle sauvegardée avec succès !","success")},K=b=>{i.value=b,p.value={...b},o.value=!0},ee=b=>{b.actif=!b.actif,window.addToast(`Règle ${b.actif?"activée":"désactivée"}`,"success")},F=()=>{a.value={type:"",niveau:"",statut:"",membre:""}},v=b=>({absence_repetitive:"Absence répétitive",absence_non_justifiee:"Absence non justifiée",retard_excessif:"Retard excessif",cotisation_retard:"Cotisation en retard",evenement_majeur:"Événement majeur"})[b]||"Autre",re=b=>({info:"Information",warning:"Attention",error:"Erreur",critical:"Critique"})[b]||"Information";return Ae(()=>{console.log("Composant Alertes initialisé")}),(b,l)=>{var Y;return h(),_("div",Ad,[e("div",jd,[l[17]||(l[17]=e("div",null,[e("h1",{class:"text-3xl font-bold text-gray-900"},"Système d'Alertes"),e("p",{class:"text-gray-600 mt-2"},"Surveillez et gérez les alertes automatiques")],-1)),e("div",Sd,[e("button",{class:"btn-modern",onClick:M},[C(j(xe),{class:"w-5 h-5 mr-2"}),l[16]||(l[16]=L(" Nouvelle règle ",-1))])])]),e("div",Td,[e("div",Rd,[e("div",Ed,[e("div",null,[l[19]||(l[19]=e("p",{class:"text-sm font-medium text-gray-600"},"Alertes Actives",-1)),e("p",Md,u(d.value.alertesActives),1),e("div",Pd,[C(j(De),{class:"w-4 h-4"}),l[18]||(l[18]=L(" -3 cette semaine ",-1))])]),e("div",Dd,[C(j(Te),{class:"w-6 h-6 text-red-600"})])])]),e("div",Od,[e("div",Fd,[e("div",null,[l[21]||(l[21]=e("p",{class:"text-sm font-medium text-gray-600"},"Critiques",-1)),e("p",Nd,u(d.value.critiques),1),e("div",Ud,[C(j(De),{class:"w-4 h-4"}),l[20]||(l[20]=L(" -1 cette semaine ",-1))])]),e("div",Bd,[C(j(je),{class:"w-6 h-6 text-purple-600"})])])]),e("div",Ld,[e("div",qd,[e("div",null,[l[23]||(l[23]=e("p",{class:"text-sm font-medium text-gray-600"},"Résolues",-1)),e("p",Id,u(d.value.resolues),1),e("div",Vd,[C(j(ce),{class:"w-4 h-4"}),l[22]||(l[22]=L(" +8 cette semaine ",-1))])]),e("div",Hd,[C(j(Ye),{class:"w-6 h-6 text-green-600"})])])]),e("div",zd,[e("div",Jd,[e("div",null,[l[25]||(l[25]=e("p",{class:"text-sm font-medium text-gray-600"},"Règles Actives",-1)),e("p",Zd,u(d.value.reglesActives),1),e("div",Gd,[C(j(ce),{class:"w-4 h-4"}),l[24]||(l[24]=L(" +2 ce mois ",-1))])]),e("div",Wd,[C(j(As),{class:"w-6 h-6 text-blue-600"})])])])]),e("div",Kd,[e("div",Xd,[e("div",null,[l[27]||(l[27]=e("label",{class:"block text-sm font-medium text-gray-700 mb-2"},"Type d'alerte",-1)),D(e("select",{"onUpdate:modelValue":l[0]||(l[0]=k=>a.value.type=k),class:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent"},[...l[26]||(l[26]=[de('<option value="">Tous les types</option><option value="absence_repetitive">Absence répétitive</option><option value="absence_non_justifiee">Absence non justifiée</option><option value="retard_excessif">Retard excessif</option><option value="cotisation_retard">Cotisation en retard</option><option value="evenement_majeur">Événement majeur</option>',6)])],512),[[ne,a.value.type]])]),e("div",null,[l[29]||(l[29]=e("label",{class:"block text-sm font-medium text-gray-700 mb-2"},"Niveau d'urgence",-1)),D(e("select",{"onUpdate:modelValue":l[1]||(l[1]=k=>a.value.niveau=k),class:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent"},[...l[28]||(l[28]=[de('<option value="">Tous les niveaux</option><option value="info">Information</option><option value="warning">Attention</option><option value="error">Erreur</option><option value="critical">Critique</option>',5)])],512),[[ne,a.value.niveau]])]),e("div",null,[l[31]||(l[31]=e("label",{class:"block text-sm font-medium text-gray-700 mb-2"},"Statut",-1)),D(e("select",{"onUpdate:modelValue":l[2]||(l[2]=k=>a.value.statut=k),class:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent"},[...l[30]||(l[30]=[de('<option value="">Tous les statuts</option><option value="nouveau">Nouveau</option><option value="envoye">Envoyé</option><option value="lu">Lu</option><option value="resolu">Résolu</option>',5)])],512),[[ne,a.value.statut]])]),e("div",null,[l[33]||(l[33]=e("label",{class:"block text-sm font-medium text-gray-700 mb-2"},"Membre",-1)),D(e("select",{"onUpdate:modelValue":l[3]||(l[3]=k=>a.value.membre=k),class:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent"},[l[32]||(l[32]=e("option",{value:""},"Tous les membres",-1)),(h(!0),_(Z,null,G(x.value,k=>(h(),_("option",{key:k.id,value:k.id},u(k.nom_complet),9,Yd))),128))],512),[[ne,a.value.membre]])]),e("div",{class:"flex items-end"},[e("button",{onClick:F,class:"w-full px-4 py-2 border border-gray-300 rounded-lg hover:bg-gray-50 transition-colors"}," Réinitialiser ")])])]),e("div",Qd,[e("div",ec,[e("nav",tc,[(h(),_(Z,null,G(A,k=>e("button",{key:k.id,onClick:T=>s.value=k.id,class:V(["py-4 px-1 border-b-2 font-medium text-sm transition-colors",s.value===k.id?"border-blue-500 text-blue-600":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300"])},u(k.label),11,sc)),64))])]),e("div",nc,[s.value==="alertes"?(h(),_("div",oc,[e("div",rc,[(h(!0),_(Z,null,G(I.value,k=>(h(),_("div",{key:k.id,class:V(["p-4 border rounded-lg transition-colors cursor-pointer hover:shadow-md",z(k.niveau_urgence)]),onClick:T=>X(k)},[e("div",ac,[e("div",lc,[e("div",{class:V([q(k.niveau_urgence),"w-8 h-8 rounded-lg flex items-center justify-center flex-shrink-0"])},[(h(),we($e(S(k.niveau_urgence)),{class:"w-4 h-4"}))],2),e("div",uc,[e("h4",dc,u(k.titre),1),e("p",cc,u(k.message),1),e("div",pc,[e("span",null,u(k.type_francais),1),e("span",null,u(k.niveau_urgence_francais),1),e("span",null,u($(k.created_at)),1),k.membre?(h(),_("span",mc,u(k.membre.nom_complet),1)):U("",!0)])])]),e("div",fc,[e("span",{class:V([B(k.statut),"px-2 py-1 rounded-full text-xs font-medium"])},u(k.statut_francais),3),e("div",gc,[k.statut==="envoye"?(h(),_("button",{key:0,onClick:te(T=>J(k),["stop"]),class:"p-1 text-gray-400 hover:text-blue-600 transition-colors",title:"Marquer comme lu"},[C(j(ft),{class:"w-4 h-4"})],8,vc)):U("",!0),k.statut!=="resolu"?(h(),_("button",{key:1,onClick:te(T=>ie(k),["stop"]),class:"p-1 text-gray-400 hover:text-green-600 transition-colors",title:"Résoudre"},[C(j(Jt),{class:"w-4 h-4"})],8,bc)):U("",!0),e("button",{onClick:te(T=>ae(k),["stop"]),class:"p-1 text-gray-400 hover:text-red-600 transition-colors",title:"Supprimer"},[C(j(Gt),{class:"w-4 h-4"})],8,xc)])])])],10,ic))),128))])])):U("",!0),s.value==="regles"?(h(),_("div",yc,[e("div",hc,[l[35]||(l[35]=e("h3",{class:"text-lg font-semibold text-gray-900"},"Règles d'Alerte Automatiques",-1)),e("button",{class:"btn-modern",onClick:M},[C(j(xe),{class:"w-5 h-5 mr-2"}),l[34]||(l[34]=L(" Nouvelle règle ",-1))])]),e("div",_c,[(h(!0),_(Z,null,G(w.value,k=>(h(),_("div",{key:k.id,class:"card-modern p-6 hover-lift"},[e("div",wc,[e("div",null,[e("h4",$c,u(k.nom),1),e("p",kc,u(k.description),1)]),e("div",Cc,[e("span",{class:V([k.actif?"bg-green-100 text-green-800":"bg-gray-100 text-gray-800","px-2 py-1 rounded-full text-xs font-medium"])},u(k.actif?"Actif":"Inactif"),3),e("button",{onClick:T=>K(k),class:"p-2 text-gray-400 hover:text-blue-600 transition-colors",title:"Éditer"},[C(j(Ue),{class:"w-4 h-4"})],8,Ac)])]),e("div",jc,[e("div",Sc,[l[36]||(l[36]=e("span",{class:"text-gray-600"},"Type:",-1)),e("span",Tc,u(k.type_francais),1)]),e("div",Rc,[l[37]||(l[37]=e("span",{class:"text-gray-600"},"Condition:",-1)),e("span",Ec,u(k.condition),1)]),e("div",Mc,[l[38]||(l[38]=e("span",{class:"text-gray-600"},"Niveau:",-1)),e("span",{class:V([H(k.niveau_urgence),"px-2 py-1 rounded-full text-xs font-medium"])},u(k.niveau_urgence_francais),3)]),e("div",Pc,[l[39]||(l[39]=e("span",{class:"text-gray-600"},"Notifications:",-1)),e("span",Dc,u(k.canaux.join(", ")),1)])]),e("div",Oc,[e("div",Fc,u(k.alertes_generees)+" alertes générées ",1),e("div",Nc,[e("button",{onClick:T=>ee(k),class:V([k.actif?"text-red-600 hover:text-red-700":"text-green-600 hover:text-green-700","text-sm font-medium transition-colors"])},u(k.actif?"Désactiver":"Activer"),11,Uc)])])]))),128))])])):U("",!0)])]),n.value?(h(),_("div",{key:0,class:"modal-overlay",onClick:se},[e("div",{class:"modal-content max-w-2xl",onClick:l[5]||(l[5]=te(()=>{},["stop"]))},[e("div",Bc,[e("h3",Lc,u((Y=r.value)==null?void 0:Y.titre),1),e("button",{onClick:se,class:"p-2 text-gray-400 hover:text-gray-600 transition-colors"},[C(j(Ne),{class:"w-6 h-6"})])]),r.value?(h(),_("div",qc,[e("div",Ic,[l[46]||(l[46]=e("h4",{class:"font-semibold text-gray-900 mb-3"},"Informations",-1)),e("div",Vc,[e("div",Hc,[l[40]||(l[40]=e("span",{class:"text-gray-600"},"Type:",-1)),e("span",zc,u(r.value.type_francais),1)]),e("div",Jc,[l[41]||(l[41]=e("span",{class:"text-gray-600"},"Niveau:",-1)),e("span",{class:V([H(r.value.niveau_urgence),"px-2 py-1 rounded-full text-xs font-medium"])},u(r.value.niveau_urgence_francais),3)]),e("div",Zc,[l[42]||(l[42]=e("span",{class:"text-gray-600"},"Statut:",-1)),e("span",{class:V([B(r.value.statut),"px-2 py-1 rounded-full text-xs font-medium"])},u(r.value.statut_francais),3)]),e("div",Gc,[l[43]||(l[43]=e("span",{class:"text-gray-600"},"Créée le:",-1)),e("span",Wc,u(R(r.value.created_at)),1)]),r.value.sent_at?(h(),_("div",Kc,[l[44]||(l[44]=e("span",{class:"text-gray-600"},"Envoyée le:",-1)),e("span",Xc,u(R(r.value.sent_at)),1)])):U("",!0),r.value.resolved_at?(h(),_("div",Yc,[l[45]||(l[45]=e("span",{class:"text-gray-600"},"Résolue le:",-1)),e("span",Qc,u(R(r.value.resolved_at)),1)])):U("",!0)])]),e("div",e0,[l[47]||(l[47]=e("h4",{class:"font-semibold text-gray-900 mb-3"},"Message",-1)),e("p",t0,u(r.value.message),1)]),r.value.membre||r.value.activite||r.value.evenement?(h(),_("div",s0,[l[51]||(l[51]=e("h4",{class:"font-semibold text-gray-900 mb-3"},"Contexte",-1)),e("div",n0,[r.value.membre?(h(),_("div",o0,[l[48]||(l[48]=e("span",{class:"text-gray-600"},"Membre:",-1)),e("span",r0,u(r.value.membre.nom_complet),1)])):U("",!0),r.value.activite?(h(),_("div",i0,[l[49]||(l[49]=e("span",{class:"text-gray-600"},"Activité:",-1)),e("span",a0,u(r.value.activite.nom),1)])):U("",!0),r.value.evenement?(h(),_("div",l0,[l[50]||(l[50]=e("span",{class:"text-gray-600"},"Événement:",-1)),e("span",u0,u(r.value.evenement.nom),1)])):U("",!0)])])):U("",!0),e("div",d0,[e("button",{onClick:se,class:"px-4 py-2 border border-gray-300 rounded-lg hover:bg-gray-50 transition-colors"}," Fermer "),r.value.statut!=="resolu"?(h(),_("button",{key:0,onClick:l[4]||(l[4]=k=>ie(r.value)),class:"btn-modern"}," Résoudre l'alerte ")):U("",!0)])])):U("",!0)])])):U("",!0),o.value?(h(),_("div",{key:1,class:"modal-overlay",onClick:y},[e("div",{class:"modal-content max-w-2xl",onClick:l[15]||(l[15]=te(()=>{},["stop"]))},[e("h3",c0,u(i.value?"Modifier la règle":"Nouvelle règle d'alerte"),1),e("form",{onSubmit:te(c,["prevent"]),class:"space-y-4"},[e("div",p0,[e("div",null,[l[53]||(l[53]=e("label",{class:"block text-sm font-medium text-gray-700 mb-2"},"Type d'alerte *",-1)),D(e("select",{"onUpdate:modelValue":l[6]||(l[6]=k=>p.value.type=k),required:"",class:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent"},[...l[52]||(l[52]=[de('<option value="absence_repetitive">Absence répétitive</option><option value="absence_non_justifiee">Absence non justifiée</option><option value="retard_excessif">Retard excessif</option><option value="cotisation_retard">Cotisation en retard</option><option value="evenement_majeur">Événement majeur</option>',5)])],512),[[ne,p.value.type]])]),e("div",null,[l[55]||(l[55]=e("label",{class:"block text-sm font-medium text-gray-700 mb-2"},"Niveau d'urgence *",-1)),D(e("select",{"onUpdate:modelValue":l[7]||(l[7]=k=>p.value.niveau_urgence=k),required:"",class:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent"},[...l[54]||(l[54]=[e("option",{value:"info"},"Information",-1),e("option",{value:"warning"},"Attention",-1),e("option",{value:"error"},"Erreur",-1),e("option",{value:"critical"},"Critique",-1)])],512),[[ne,p.value.niveau_urgence]])])]),e("div",null,[l[56]||(l[56]=e("label",{class:"block text-sm font-medium text-gray-700 mb-2"},"Nom de la règle *",-1)),D(e("input",{"onUpdate:modelValue":l[8]||(l[8]=k=>p.value.nom=k),type:"text",required:"",class:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent"},null,512),[[W,p.value.nom]])]),e("div",null,[l[57]||(l[57]=e("label",{class:"block text-sm font-medium text-gray-700 mb-2"},"Description",-1)),D(e("textarea",{"onUpdate:modelValue":l[9]||(l[9]=k=>p.value.description=k),rows:"3",class:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent"},null,512),[[W,p.value.description]])]),e("div",null,[l[58]||(l[58]=e("label",{class:"block text-sm font-medium text-gray-700 mb-2"},"Condition *",-1)),D(e("input",{"onUpdate:modelValue":l[10]||(l[10]=k=>p.value.condition=k),type:"text",required:"",placeholder:"Ex: 3 absences consécutives",class:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent"},null,512),[[W,p.value.condition]])]),e("div",null,[l[63]||(l[63]=e("label",{class:"block text-sm font-medium text-gray-700 mb-2"},"Canaux de notification",-1)),e("div",m0,[e("label",f0,[D(e("input",{"onUpdate:modelValue":l[11]||(l[11]=k=>p.value.canaux=k),type:"checkbox",value:"email",class:"rounded border-gray-300 text-blue-600 focus:ring-blue-500"},null,512),[[Ve,p.value.canaux]]),l[59]||(l[59]=e("span",{class:"text-sm"},"Email",-1))]),e("label",g0,[D(e("input",{"onUpdate:modelValue":l[12]||(l[12]=k=>p.value.canaux=k),type:"checkbox",value:"sms",class:"rounded border-gray-300 text-blue-600 focus:ring-blue-500"},null,512),[[Ve,p.value.canaux]]),l[60]||(l[60]=e("span",{class:"text-sm"},"SMS",-1))]),e("label",v0,[D(e("input",{"onUpdate:modelValue":l[13]||(l[13]=k=>p.value.canaux=k),type:"checkbox",value:"whatsapp",class:"rounded border-gray-300 text-blue-600 focus:ring-blue-500"},null,512),[[Ve,p.value.canaux]]),l[61]||(l[61]=e("span",{class:"text-sm"},"WhatsApp",-1))]),e("label",b0,[D(e("input",{"onUpdate:modelValue":l[14]||(l[14]=k=>p.value.canaux=k),type:"checkbox",value:"push",class:"rounded border-gray-300 text-blue-600 focus:ring-blue-500"},null,512),[[Ve,p.value.canaux]]),l[62]||(l[62]=e("span",{class:"text-sm"},"Push",-1))])])]),e("div",x0,[e("button",{type:"button",onClick:y,class:"px-4 py-2 border border-gray-300 rounded-lg hover:bg-gray-50 transition-colors"}," Annuler "),e("button",y0,u(i.value?"Modifier":"Créer"),1)])],32)])])):U("",!0)])}}};function Wt(t,s){return function(){return t.apply(s,arguments)}}const{toString:_0}=Object.prototype,{getPrototypeOf:gt}=Object,{iterator:Qe,toStringTag:Kt}=Symbol,et=(t=>s=>{const n=_0.call(s);return t[n]||(t[n]=n.slice(8,-1).toLowerCase())})(Object.create(null)),ge=t=>(t=t.toLowerCase(),s=>et(s)===t),tt=t=>s=>typeof s===t,{isArray:Ee}=Array,Re=tt("undefined");function Be(t){return t!==null&&!Re(t)&&t.constructor!==null&&!Re(t.constructor)&&pe(t.constructor.isBuffer)&&t.constructor.isBuffer(t)}const Xt=ge("ArrayBuffer");function w0(t){let s;return typeof ArrayBuffer<"u"&&ArrayBuffer.isView?s=ArrayBuffer.isView(t):s=t&&t.buffer&&Xt(t.buffer),s}const $0=tt("string"),pe=tt("function"),Yt=tt("number"),Le=t=>t!==null&&typeof t=="object",k0=t=>t===!0||t===!1,Je=t=>{if(et(t)!=="object")return!1;const s=gt(t);return(s===null||s===Object.prototype||Object.getPrototypeOf(s)===null)&&!(Kt in t)&&!(Qe in t)},C0=t=>{if(!Le(t)||Be(t))return!1;try{return Object.keys(t).length===0&&Object.getPrototypeOf(t)===Object.prototype}catch{return!1}},A0=ge("Date"),j0=ge("File"),S0=ge("Blob"),T0=ge("FileList"),R0=t=>Le(t)&&pe(t.pipe),E0=t=>{let s;return t&&(typeof FormData=="function"&&t instanceof FormData||pe(t.append)&&((s=et(t))==="formdata"||s==="object"&&pe(t.toString)&&t.toString()==="[object FormData]"))},M0=ge("URLSearchParams"),[P0,D0,O0,F0]=["ReadableStream","Request","Response","Headers"].map(ge),N0=t=>t.trim?t.trim():t.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"");function qe(t,s,{allOwnKeys:n=!1}={}){if(t===null||typeof t>"u")return;let o,r;if(typeof t!="object"&&(t=[t]),Ee(t))for(o=0,r=t.length;o<r;o++)s.call(null,t[o],o,t);else{if(Be(t))return;const i=n?Object.getOwnPropertyNames(t):Object.keys(t),a=i.length;let d;for(o=0;o<a;o++)d=i[o],s.call(null,t[d],d,t)}}function Qt(t,s){if(Be(t))return null;s=s.toLowerCase();const n=Object.keys(t);let o=n.length,r;for(;o-- >0;)if(r=n[o],s===r.toLowerCase())return r;return null}const _e=(()=>typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:global)(),es=t=>!Re(t)&&t!==_e;function lt(){const{caseless:t,skipUndefined:s}=es(this)&&this||{},n={},o=(r,i)=>{const a=t&&Qt(n,i)||i;Je(n[a])&&Je(r)?n[a]=lt(n[a],r):Je(r)?n[a]=lt({},r):Ee(r)?n[a]=r.slice():(!s||!Re(r))&&(n[a]=r)};for(let r=0,i=arguments.length;r<i;r++)arguments[r]&&qe(arguments[r],o);return n}const U0=(t,s,n,{allOwnKeys:o}={})=>(qe(s,(r,i)=>{n&&pe(r)?t[i]=Wt(r,n):t[i]=r},{allOwnKeys:o}),t),B0=t=>(t.charCodeAt(0)===65279&&(t=t.slice(1)),t),L0=(t,s,n,o)=>{t.prototype=Object.create(s.prototype,o),t.prototype.constructor=t,Object.defineProperty(t,"super",{value:s.prototype}),n&&Object.assign(t.prototype,n)},q0=(t,s,n,o)=>{let r,i,a;const d={};if(s=s||{},t==null)return s;do{for(r=Object.getOwnPropertyNames(t),i=r.length;i-- >0;)a=r[i],(!o||o(a,t,s))&&!d[a]&&(s[a]=t[a],d[a]=!0);t=n!==!1&&gt(t)}while(t&&(!n||n(t,s))&&t!==Object.prototype);return s},I0=(t,s,n)=>{t=String(t),(n===void 0||n>t.length)&&(n=t.length),n-=s.length;const o=t.indexOf(s,n);return o!==-1&&o===n},V0=t=>{if(!t)return null;if(Ee(t))return t;let s=t.length;if(!Yt(s))return null;const n=new Array(s);for(;s-- >0;)n[s]=t[s];return n},H0=(t=>s=>t&&s instanceof t)(typeof Uint8Array<"u"&&gt(Uint8Array)),z0=(t,s)=>{const o=(t&&t[Qe]).call(t);let r;for(;(r=o.next())&&!r.done;){const i=r.value;s.call(t,i[0],i[1])}},J0=(t,s)=>{let n;const o=[];for(;(n=t.exec(s))!==null;)o.push(n);return o},Z0=ge("HTMLFormElement"),G0=t=>t.toLowerCase().replace(/[-_\s]([a-z\d])(\w*)/g,function(n,o,r){return o.toUpperCase()+r}),St=(({hasOwnProperty:t})=>(s,n)=>t.call(s,n))(Object.prototype),W0=ge("RegExp"),ts=(t,s)=>{const n=Object.getOwnPropertyDescriptors(t),o={};qe(n,(r,i)=>{let a;(a=s(r,i,t))!==!1&&(o[i]=a||r)}),Object.defineProperties(t,o)},K0=t=>{ts(t,(s,n)=>{if(pe(t)&&["arguments","caller","callee"].indexOf(n)!==-1)return!1;const o=t[n];if(pe(o)){if(s.enumerable=!1,"writable"in s){s.writable=!1;return}s.set||(s.set=()=>{throw Error("Can not rewrite read-only method '"+n+"'")})}})},X0=(t,s)=>{const n={},o=r=>{r.forEach(i=>{n[i]=!0})};return Ee(t)?o(t):o(String(t).split(s)),n},Y0=()=>{},Q0=(t,s)=>t!=null&&Number.isFinite(t=+t)?t:s;function ep(t){return!!(t&&pe(t.append)&&t[Kt]==="FormData"&&t[Qe])}const tp=t=>{const s=new Array(10),n=(o,r)=>{if(Le(o)){if(s.indexOf(o)>=0)return;if(Be(o))return o;if(!("toJSON"in o)){s[r]=o;const i=Ee(o)?[]:{};return qe(o,(a,d)=>{const p=n(a,r+1);!Re(p)&&(i[d]=p)}),s[r]=void 0,i}}return o};return n(t,0)},sp=ge("AsyncFunction"),np=t=>t&&(Le(t)||pe(t))&&pe(t.then)&&pe(t.catch),ss=((t,s)=>t?setImmediate:s?((n,o)=>(_e.addEventListener("message",({source:r,data:i})=>{r===_e&&i===n&&o.length&&o.shift()()},!1),r=>{o.push(r),_e.postMessage(n,"*")}))(`axios@${Math.random()}`,[]):n=>setTimeout(n))(typeof setImmediate=="function",pe(_e.postMessage)),op=typeof queueMicrotask<"u"?queueMicrotask.bind(_e):typeof process<"u"&&process.nextTick||ss,rp=t=>t!=null&&pe(t[Qe]),g={isArray:Ee,isArrayBuffer:Xt,isBuffer:Be,isFormData:E0,isArrayBufferView:w0,isString:$0,isNumber:Yt,isBoolean:k0,isObject:Le,isPlainObject:Je,isEmptyObject:C0,isReadableStream:P0,isRequest:D0,isResponse:O0,isHeaders:F0,isUndefined:Re,isDate:A0,isFile:j0,isBlob:S0,isRegExp:W0,isFunction:pe,isStream:R0,isURLSearchParams:M0,isTypedArray:H0,isFileList:T0,forEach:qe,merge:lt,extend:U0,trim:N0,stripBOM:B0,inherits:L0,toFlatObject:q0,kindOf:et,kindOfTest:ge,endsWith:I0,toArray:V0,forEachEntry:z0,matchAll:J0,isHTMLForm:Z0,hasOwnProperty:St,hasOwnProp:St,reduceDescriptors:ts,freezeMethods:K0,toObjectSet:X0,toCamelCase:G0,noop:Y0,toFiniteNumber:Q0,findKey:Qt,global:_e,isContextDefined:es,isSpecCompliantForm:ep,toJSONObject:tp,isAsyncFn:sp,isThenable:np,setImmediate:ss,asap:op,isIterable:rp};function N(t,s,n,o,r){Error.call(this),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=new Error().stack,this.message=t,this.name="AxiosError",s&&(this.code=s),n&&(this.config=n),o&&(this.request=o),r&&(this.response=r,this.status=r.status?r.status:null)}g.inherits(N,Error,{toJSON:function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:g.toJSONObject(this.config),code:this.code,status:this.status}}});const ns=N.prototype,os={};["ERR_BAD_OPTION_VALUE","ERR_BAD_OPTION","ECONNABORTED","ETIMEDOUT","ERR_NETWORK","ERR_FR_TOO_MANY_REDIRECTS","ERR_DEPRECATED","ERR_BAD_RESPONSE","ERR_BAD_REQUEST","ERR_CANCELED","ERR_NOT_SUPPORT","ERR_INVALID_URL"].forEach(t=>{os[t]={value:t}});Object.defineProperties(N,os);Object.defineProperty(ns,"isAxiosError",{value:!0});N.from=(t,s,n,o,r,i)=>{const a=Object.create(ns);g.toFlatObject(t,a,function(m){return m!==Error.prototype},x=>x!=="isAxiosError");const d=t&&t.message?t.message:"Error",p=s==null&&t?t.code:s;return N.call(a,d,p,n,o,r),t&&a.cause==null&&Object.defineProperty(a,"cause",{value:t,configurable:!0}),a.name=t&&t.name||"Error",i&&Object.assign(a,i),a};const ip=null;function ut(t){return g.isPlainObject(t)||g.isArray(t)}function rs(t){return g.endsWith(t,"[]")?t.slice(0,-2):t}function Tt(t,s,n){return t?t.concat(s).map(function(r,i){return r=rs(r),!n&&i?"["+r+"]":r}).join(n?".":""):s}function ap(t){return g.isArray(t)&&!t.some(ut)}const lp=g.toFlatObject(g,{},null,function(s){return/^is[A-Z]/.test(s)});function st(t,s,n){if(!g.isObject(t))throw new TypeError("target must be an object");s=s||new FormData,n=g.toFlatObject(n,{metaTokens:!0,dots:!1,indexes:!1},!1,function(R,S){return!g.isUndefined(S[R])});const o=n.metaTokens,r=n.visitor||m,i=n.dots,a=n.indexes,p=(n.Blob||typeof Blob<"u"&&Blob)&&g.isSpecCompliantForm(s);if(!g.isFunction(r))throw new TypeError("visitor must be a function");function x($){if($===null)return"";if(g.isDate($))return $.toISOString();if(g.isBoolean($))return $.toString();if(!p&&g.isBlob($))throw new N("Blob is not supported. Use a Buffer instead.");return g.isArrayBuffer($)||g.isTypedArray($)?p&&typeof Blob=="function"?new Blob([$]):Buffer.from($):$}function m($,R,S){let q=$;if($&&!S&&typeof $=="object"){if(g.endsWith(R,"{}"))R=o?R:R.slice(0,-2),$=JSON.stringify($);else if(g.isArray($)&&ap($)||(g.isFileList($)||g.endsWith(R,"[]"))&&(q=g.toArray($)))return R=rs(R),q.forEach(function(B,H){!(g.isUndefined(B)||B===null)&&s.append(a===!0?Tt([R],H,i):a===null?R:R+"[]",x(B))}),!1}return ut($)?!0:(s.append(Tt(S,R,i),x($)),!1)}const w=[],A=Object.assign(lp,{defaultVisitor:m,convertValue:x,isVisitable:ut});function I($,R){if(!g.isUndefined($)){if(w.indexOf($)!==-1)throw Error("Circular reference detected in "+R.join("."));w.push($),g.forEach($,function(q,z){(!(g.isUndefined(q)||q===null)&&r.call(s,q,g.isString(z)?z.trim():z,R,A))===!0&&I(q,R?R.concat(z):[z])}),w.pop()}}if(!g.isObject(t))throw new TypeError("data must be an object");return I(t),s}function Rt(t){const s={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+","%00":"\0"};return encodeURIComponent(t).replace(/[!'()~]|%20|%00/g,function(o){return s[o]})}function vt(t,s){this._pairs=[],t&&st(t,this,s)}const is=vt.prototype;is.append=function(s,n){this._pairs.push([s,n])};is.toString=function(s){const n=s?function(o){return s.call(this,o,Rt)}:Rt;return this._pairs.map(function(r){return n(r[0])+"="+n(r[1])},"").join("&")};function up(t){return encodeURIComponent(t).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+")}function as(t,s,n){if(!s)return t;const o=n&&n.encode||up;g.isFunction(n)&&(n={serialize:n});const r=n&&n.serialize;let i;if(r?i=r(s,n):i=g.isURLSearchParams(s)?s.toString():new vt(s,n).toString(o),i){const a=t.indexOf("#");a!==-1&&(t=t.slice(0,a)),t+=(t.indexOf("?")===-1?"?":"&")+i}return t}class dp{constructor(){this.handlers=[]}use(s,n,o){return this.handlers.push({fulfilled:s,rejected:n,synchronous:o?o.synchronous:!1,runWhen:o?o.runWhen:null}),this.handlers.length-1}eject(s){this.handlers[s]&&(this.handlers[s]=null)}clear(){this.handlers&&(this.handlers=[])}forEach(s){g.forEach(this.handlers,function(o){o!==null&&s(o)})}}const Et=dp,ls={silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1},cp=typeof URLSearchParams<"u"?URLSearchParams:vt,pp=typeof FormData<"u"?FormData:null,mp=typeof Blob<"u"?Blob:null,fp={isBrowser:!0,classes:{URLSearchParams:cp,FormData:pp,Blob:mp},protocols:["http","https","file","blob","url","data"]},bt=typeof window<"u"&&typeof document<"u",dt=typeof navigator=="object"&&navigator||void 0,gp=bt&&(!dt||["ReactNative","NativeScript","NS"].indexOf(dt.product)<0),vp=(()=>typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&typeof self.importScripts=="function")(),bp=bt&&window.location.href||"http://localhost",xp=Object.freeze(Object.defineProperty({__proto__:null,hasBrowserEnv:bt,hasStandardBrowserEnv:gp,hasStandardBrowserWebWorkerEnv:vp,navigator:dt,origin:bp},Symbol.toStringTag,{value:"Module"})),ue={...xp,...fp};function yp(t,s){return st(t,new ue.classes.URLSearchParams,{visitor:function(n,o,r,i){return ue.isNode&&g.isBuffer(n)?(this.append(o,n.toString("base64")),!1):i.defaultVisitor.apply(this,arguments)},...s})}function hp(t){return g.matchAll(/\w+|\[(\w*)]/g,t).map(s=>s[0]==="[]"?"":s[1]||s[0])}function _p(t){const s={},n=Object.keys(t);let o;const r=n.length;let i;for(o=0;o<r;o++)i=n[o],s[i]=t[i];return s}function us(t){function s(n,o,r,i){let a=n[i++];if(a==="__proto__")return!0;const d=Number.isFinite(+a),p=i>=n.length;return a=!a&&g.isArray(r)?r.length:a,p?(g.hasOwnProp(r,a)?r[a]=[r[a],o]:r[a]=o,!d):((!r[a]||!g.isObject(r[a]))&&(r[a]=[]),s(n,o,r[a],i)&&g.isArray(r[a])&&(r[a]=_p(r[a])),!d)}if(g.isFormData(t)&&g.isFunction(t.entries)){const n={};return g.forEachEntry(t,(o,r)=>{s(hp(o),r,n,0)}),n}return null}function wp(t,s,n){if(g.isString(t))try{return(s||JSON.parse)(t),g.trim(t)}catch(o){if(o.name!=="SyntaxError")throw o}return(n||JSON.stringify)(t)}const xt={transitional:ls,adapter:["xhr","http","fetch"],transformRequest:[function(s,n){const o=n.getContentType()||"",r=o.indexOf("application/json")>-1,i=g.isObject(s);if(i&&g.isHTMLForm(s)&&(s=new FormData(s)),g.isFormData(s))return r?JSON.stringify(us(s)):s;if(g.isArrayBuffer(s)||g.isBuffer(s)||g.isStream(s)||g.isFile(s)||g.isBlob(s)||g.isReadableStream(s))return s;if(g.isArrayBufferView(s))return s.buffer;if(g.isURLSearchParams(s))return n.setContentType("application/x-www-form-urlencoded;charset=utf-8",!1),s.toString();let d;if(i){if(o.indexOf("application/x-www-form-urlencoded")>-1)return yp(s,this.formSerializer).toString();if((d=g.isFileList(s))||o.indexOf("multipart/form-data")>-1){const p=this.env&&this.env.FormData;return st(d?{"files[]":s}:s,p&&new p,this.formSerializer)}}return i||r?(n.setContentType("application/json",!1),wp(s)):s}],transformResponse:[function(s){const n=this.transitional||xt.transitional,o=n&&n.forcedJSONParsing,r=this.responseType==="json";if(g.isResponse(s)||g.isReadableStream(s))return s;if(s&&g.isString(s)&&(o&&!this.responseType||r)){const a=!(n&&n.silentJSONParsing)&&r;try{return JSON.parse(s,this.parseReviver)}catch(d){if(a)throw d.name==="SyntaxError"?N.from(d,N.ERR_BAD_RESPONSE,this,null,this.response):d}}return s}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,env:{FormData:ue.classes.FormData,Blob:ue.classes.Blob},validateStatus:function(s){return s>=200&&s<300},headers:{common:{Accept:"application/json, text/plain, */*","Content-Type":void 0}}};g.forEach(["delete","get","head","post","put","patch"],t=>{xt.headers[t]={}});const yt=xt,$p=g.toObjectSet(["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"]),kp=t=>{const s={};let n,o,r;return t&&t.split(`
`).forEach(function(a){r=a.indexOf(":"),n=a.substring(0,r).trim().toLowerCase(),o=a.substring(r+1).trim(),!(!n||s[n]&&$p[n])&&(n==="set-cookie"?s[n]?s[n].push(o):s[n]=[o]:s[n]=s[n]?s[n]+", "+o:o)}),s},Mt=Symbol("internals");function Pe(t){return t&&String(t).trim().toLowerCase()}function Ze(t){return t===!1||t==null?t:g.isArray(t)?t.map(Ze):String(t)}function Cp(t){const s=Object.create(null),n=/([^\s,;=]+)\s*(?:=\s*([^,;]+))?/g;let o;for(;o=n.exec(t);)s[o[1]]=o[2];return s}const Ap=t=>/^[-_a-zA-Z0-9^`|~,!#$%&'*+.]+$/.test(t.trim());function rt(t,s,n,o,r){if(g.isFunction(o))return o.call(this,s,n);if(r&&(s=n),!!g.isString(s)){if(g.isString(o))return s.indexOf(o)!==-1;if(g.isRegExp(o))return o.test(s)}}function jp(t){return t.trim().toLowerCase().replace(/([a-z\d])(\w*)/g,(s,n,o)=>n.toUpperCase()+o)}function Sp(t,s){const n=g.toCamelCase(" "+s);["get","set","has"].forEach(o=>{Object.defineProperty(t,o+n,{value:function(r,i,a){return this[o].call(this,s,r,i,a)},configurable:!0})})}class nt{constructor(s){s&&this.set(s)}set(s,n,o){const r=this;function i(d,p,x){const m=Pe(p);if(!m)throw new Error("header name must be a non-empty string");const w=g.findKey(r,m);(!w||r[w]===void 0||x===!0||x===void 0&&r[w]!==!1)&&(r[w||p]=Ze(d))}const a=(d,p)=>g.forEach(d,(x,m)=>i(x,m,p));if(g.isPlainObject(s)||s instanceof this.constructor)a(s,n);else if(g.isString(s)&&(s=s.trim())&&!Ap(s))a(kp(s),n);else if(g.isObject(s)&&g.isIterable(s)){let d={},p,x;for(const m of s){if(!g.isArray(m))throw TypeError("Object iterator must return a key-value pair");d[x=m[0]]=(p=d[x])?g.isArray(p)?[...p,m[1]]:[p,m[1]]:m[1]}a(d,n)}else s!=null&&i(n,s,o);return this}get(s,n){if(s=Pe(s),s){const o=g.findKey(this,s);if(o){const r=this[o];if(!n)return r;if(n===!0)return Cp(r);if(g.isFunction(n))return n.call(this,r,o);if(g.isRegExp(n))return n.exec(r);throw new TypeError("parser must be boolean|regexp|function")}}}has(s,n){if(s=Pe(s),s){const o=g.findKey(this,s);return!!(o&&this[o]!==void 0&&(!n||rt(this,this[o],o,n)))}return!1}delete(s,n){const o=this;let r=!1;function i(a){if(a=Pe(a),a){const d=g.findKey(o,a);d&&(!n||rt(o,o[d],d,n))&&(delete o[d],r=!0)}}return g.isArray(s)?s.forEach(i):i(s),r}clear(s){const n=Object.keys(this);let o=n.length,r=!1;for(;o--;){const i=n[o];(!s||rt(this,this[i],i,s,!0))&&(delete this[i],r=!0)}return r}normalize(s){const n=this,o={};return g.forEach(this,(r,i)=>{const a=g.findKey(o,i);if(a){n[a]=Ze(r),delete n[i];return}const d=s?jp(i):String(i).trim();d!==i&&delete n[i],n[d]=Ze(r),o[d]=!0}),this}concat(...s){return this.constructor.concat(this,...s)}toJSON(s){const n=Object.create(null);return g.forEach(this,(o,r)=>{o!=null&&o!==!1&&(n[r]=s&&g.isArray(o)?o.join(", "):o)}),n}[Symbol.iterator](){return Object.entries(this.toJSON())[Symbol.iterator]()}toString(){return Object.entries(this.toJSON()).map(([s,n])=>s+": "+n).join(`
`)}getSetCookie(){return this.get("set-cookie")||[]}get[Symbol.toStringTag](){return"AxiosHeaders"}static from(s){return s instanceof this?s:new this(s)}static concat(s,...n){const o=new this(s);return n.forEach(r=>o.set(r)),o}static accessor(s){const o=(this[Mt]=this[Mt]={accessors:{}}).accessors,r=this.prototype;function i(a){const d=Pe(a);o[d]||(Sp(r,a),o[d]=!0)}return g.isArray(s)?s.forEach(i):i(s),this}}nt.accessor(["Content-Type","Content-Length","Accept","Accept-Encoding","User-Agent","Authorization"]);g.reduceDescriptors(nt.prototype,({value:t},s)=>{let n=s[0].toUpperCase()+s.slice(1);return{get:()=>t,set(o){this[n]=o}}});g.freezeMethods(nt);const fe=nt;function it(t,s){const n=this||yt,o=s||n,r=fe.from(o.headers);let i=o.data;return g.forEach(t,function(d){i=d.call(n,i,r.normalize(),s?s.status:void 0)}),r.normalize(),i}function ds(t){return!!(t&&t.__CANCEL__)}function Me(t,s,n){N.call(this,t??"canceled",N.ERR_CANCELED,s,n),this.name="CanceledError"}g.inherits(Me,N,{__CANCEL__:!0});function cs(t,s,n){const o=n.config.validateStatus;!n.status||!o||o(n.status)?t(n):s(new N("Request failed with status code "+n.status,[N.ERR_BAD_REQUEST,N.ERR_BAD_RESPONSE][Math.floor(n.status/100)-4],n.config,n.request,n))}function Tp(t){const s=/^([-+\w]{1,25})(:?\/\/|:)/.exec(t);return s&&s[1]||""}function Rp(t,s){t=t||10;const n=new Array(t),o=new Array(t);let r=0,i=0,a;return s=s!==void 0?s:1e3,function(p){const x=Date.now(),m=o[i];a||(a=x),n[r]=p,o[r]=x;let w=i,A=0;for(;w!==r;)A+=n[w++],w=w%t;if(r=(r+1)%t,r===i&&(i=(i+1)%t),x-a<s)return;const I=m&&x-m;return I?Math.round(A*1e3/I):void 0}}function Ep(t,s){let n=0,o=1e3/s,r,i;const a=(x,m=Date.now())=>{n=m,r=null,i&&(clearTimeout(i),i=null),t(...x)};return[(...x)=>{const m=Date.now(),w=m-n;w>=o?a(x,m):(r=x,i||(i=setTimeout(()=>{i=null,a(r)},o-w)))},()=>r&&a(r)]}const Ke=(t,s,n=3)=>{let o=0;const r=Rp(50,250);return Ep(i=>{const a=i.loaded,d=i.lengthComputable?i.total:void 0,p=a-o,x=r(p),m=a<=d;o=a;const w={loaded:a,total:d,progress:d?a/d:void 0,bytes:p,rate:x||void 0,estimated:x&&d&&m?(d-a)/x:void 0,event:i,lengthComputable:d!=null,[s?"download":"upload"]:!0};t(w)},n)},Pt=(t,s)=>{const n=t!=null;return[o=>s[0]({lengthComputable:n,total:t,loaded:o}),s[1]]},Dt=t=>(...s)=>g.asap(()=>t(...s)),Mp=ue.hasStandardBrowserEnv?((t,s)=>n=>(n=new URL(n,ue.origin),t.protocol===n.protocol&&t.host===n.host&&(s||t.port===n.port)))(new URL(ue.origin),ue.navigator&&/(msie|trident)/i.test(ue.navigator.userAgent)):()=>!0,Pp=ue.hasStandardBrowserEnv?{write(t,s,n,o,r,i){const a=[t+"="+encodeURIComponent(s)];g.isNumber(n)&&a.push("expires="+new Date(n).toGMTString()),g.isString(o)&&a.push("path="+o),g.isString(r)&&a.push("domain="+r),i===!0&&a.push("secure"),document.cookie=a.join("; ")},read(t){const s=document.cookie.match(new RegExp("(^|;\\s*)("+t+")=([^;]*)"));return s?decodeURIComponent(s[3]):null},remove(t){this.write(t,"",Date.now()-864e5)}}:{write(){},read(){return null},remove(){}};function Dp(t){return/^([a-z][a-z\d+\-.]*:)?\/\//i.test(t)}function Op(t,s){return s?t.replace(/\/?\/$/,"")+"/"+s.replace(/^\/+/,""):t}function ps(t,s,n){let o=!Dp(s);return t&&(o||n==!1)?Op(t,s):s}const Ot=t=>t instanceof fe?{...t}:t;function Ce(t,s){s=s||{};const n={};function o(x,m,w,A){return g.isPlainObject(x)&&g.isPlainObject(m)?g.merge.call({caseless:A},x,m):g.isPlainObject(m)?g.merge({},m):g.isArray(m)?m.slice():m}function r(x,m,w,A){if(g.isUndefined(m)){if(!g.isUndefined(x))return o(void 0,x,w,A)}else return o(x,m,w,A)}function i(x,m){if(!g.isUndefined(m))return o(void 0,m)}function a(x,m){if(g.isUndefined(m)){if(!g.isUndefined(x))return o(void 0,x)}else return o(void 0,m)}function d(x,m,w){if(w in s)return o(x,m);if(w in t)return o(void 0,x)}const p={url:i,method:i,data:i,baseURL:a,transformRequest:a,transformResponse:a,paramsSerializer:a,timeout:a,timeoutMessage:a,withCredentials:a,withXSRFToken:a,adapter:a,responseType:a,xsrfCookieName:a,xsrfHeaderName:a,onUploadProgress:a,onDownloadProgress:a,decompress:a,maxContentLength:a,maxBodyLength:a,beforeRedirect:a,transport:a,httpAgent:a,httpsAgent:a,cancelToken:a,socketPath:a,responseEncoding:a,validateStatus:d,headers:(x,m,w)=>r(Ot(x),Ot(m),w,!0)};return g.forEach(Object.keys({...t,...s}),function(m){const w=p[m]||r,A=w(t[m],s[m],m);g.isUndefined(A)&&w!==d||(n[m]=A)}),n}const ms=t=>{const s=Ce({},t);let{data:n,withXSRFToken:o,xsrfHeaderName:r,xsrfCookieName:i,headers:a,auth:d}=s;if(s.headers=a=fe.from(a),s.url=as(ps(s.baseURL,s.url,s.allowAbsoluteUrls),t.params,t.paramsSerializer),d&&a.set("Authorization","Basic "+btoa((d.username||"")+":"+(d.password?unescape(encodeURIComponent(d.password)):""))),g.isFormData(n)){if(ue.hasStandardBrowserEnv||ue.hasStandardBrowserWebWorkerEnv)a.setContentType(void 0);else if(g.isFunction(n.getHeaders)){const p=n.getHeaders(),x=["content-type","content-length"];Object.entries(p).forEach(([m,w])=>{x.includes(m.toLowerCase())&&a.set(m,w)})}}if(ue.hasStandardBrowserEnv&&(o&&g.isFunction(o)&&(o=o(s)),o||o!==!1&&Mp(s.url))){const p=r&&i&&Pp.read(i);p&&a.set(r,p)}return s},Fp=typeof XMLHttpRequest<"u",Np=Fp&&function(t){return new Promise(function(n,o){const r=ms(t);let i=r.data;const a=fe.from(r.headers).normalize();let{responseType:d,onUploadProgress:p,onDownloadProgress:x}=r,m,w,A,I,$;function R(){I&&I(),$&&$(),r.cancelToken&&r.cancelToken.unsubscribe(m),r.signal&&r.signal.removeEventListener("abort",m)}let S=new XMLHttpRequest;S.open(r.method.toUpperCase(),r.url,!0),S.timeout=r.timeout;function q(){if(!S)return;const B=fe.from("getAllResponseHeaders"in S&&S.getAllResponseHeaders()),X={data:!d||d==="text"||d==="json"?S.responseText:S.response,status:S.status,statusText:S.statusText,headers:B,config:t,request:S};cs(function(J){n(J),R()},function(J){o(J),R()},X),S=null}"onloadend"in S?S.onloadend=q:S.onreadystatechange=function(){!S||S.readyState!==4||S.status===0&&!(S.responseURL&&S.responseURL.indexOf("file:")===0)||setTimeout(q)},S.onabort=function(){S&&(o(new N("Request aborted",N.ECONNABORTED,t,S)),S=null)},S.onerror=function(H){const X=H&&H.message?H.message:"Network Error",se=new N(X,N.ERR_NETWORK,t,S);se.event=H||null,o(se),S=null},S.ontimeout=function(){let H=r.timeout?"timeout of "+r.timeout+"ms exceeded":"timeout exceeded";const X=r.transitional||ls;r.timeoutErrorMessage&&(H=r.timeoutErrorMessage),o(new N(H,X.clarifyTimeoutError?N.ETIMEDOUT:N.ECONNABORTED,t,S)),S=null},i===void 0&&a.setContentType(null),"setRequestHeader"in S&&g.forEach(a.toJSON(),function(H,X){S.setRequestHeader(X,H)}),g.isUndefined(r.withCredentials)||(S.withCredentials=!!r.withCredentials),d&&d!=="json"&&(S.responseType=r.responseType),x&&([A,$]=Ke(x,!0),S.addEventListener("progress",A)),p&&S.upload&&([w,I]=Ke(p),S.upload.addEventListener("progress",w),S.upload.addEventListener("loadend",I)),(r.cancelToken||r.signal)&&(m=B=>{S&&(o(!B||B.type?new Me(null,t,S):B),S.abort(),S=null)},r.cancelToken&&r.cancelToken.subscribe(m),r.signal&&(r.signal.aborted?m():r.signal.addEventListener("abort",m)));const z=Tp(r.url);if(z&&ue.protocols.indexOf(z)===-1){o(new N("Unsupported protocol "+z+":",N.ERR_BAD_REQUEST,t));return}S.send(i||null)})},Up=(t,s)=>{const{length:n}=t=t?t.filter(Boolean):[];if(s||n){let o=new AbortController,r;const i=function(x){if(!r){r=!0,d();const m=x instanceof Error?x:this.reason;o.abort(m instanceof N?m:new Me(m instanceof Error?m.message:m))}};let a=s&&setTimeout(()=>{a=null,i(new N(`timeout ${s} of ms exceeded`,N.ETIMEDOUT))},s);const d=()=>{t&&(a&&clearTimeout(a),a=null,t.forEach(x=>{x.unsubscribe?x.unsubscribe(i):x.removeEventListener("abort",i)}),t=null)};t.forEach(x=>x.addEventListener("abort",i));const{signal:p}=o;return p.unsubscribe=()=>g.asap(d),p}},Bp=Up,Lp=function*(t,s){let n=t.byteLength;if(!s||n<s){yield t;return}let o=0,r;for(;o<n;)r=o+s,yield t.slice(o,r),o=r},qp=async function*(t,s){for await(const n of Ip(t))yield*Lp(n,s)},Ip=async function*(t){if(t[Symbol.asyncIterator]){yield*t;return}const s=t.getReader();try{for(;;){const{done:n,value:o}=await s.read();if(n)break;yield o}}finally{await s.cancel()}},Ft=(t,s,n,o)=>{const r=qp(t,s);let i=0,a,d=p=>{a||(a=!0,o&&o(p))};return new ReadableStream({async pull(p){try{const{done:x,value:m}=await r.next();if(x){d(),p.close();return}let w=m.byteLength;if(n){let A=i+=w;n(A)}p.enqueue(new Uint8Array(m))}catch(x){throw d(x),x}},cancel(p){return d(p),r.return()}},{highWaterMark:2})},Nt=64*1024,{isFunction:He}=g,Vp=(({Request:t,Response:s})=>({Request:t,Response:s}))(g.global),{ReadableStream:Ut,TextEncoder:Bt}=g.global,Lt=(t,...s)=>{try{return!!t(...s)}catch{return!1}},Hp=t=>{t=g.merge.call({skipUndefined:!0},Vp,t);const{fetch:s,Request:n,Response:o}=t,r=s?He(s):typeof fetch=="function",i=He(n),a=He(o);if(!r)return!1;const d=r&&He(Ut),p=r&&(typeof Bt=="function"?($=>R=>$.encode(R))(new Bt):async $=>new Uint8Array(await new n($).arrayBuffer())),x=i&&d&&Lt(()=>{let $=!1;const R=new n(ue.origin,{body:new Ut,method:"POST",get duplex(){return $=!0,"half"}}).headers.has("Content-Type");return $&&!R}),m=a&&d&&Lt(()=>g.isReadableStream(new o("").body)),w={stream:m&&($=>$.body)};r&&["text","arrayBuffer","blob","formData","stream"].forEach($=>{!w[$]&&(w[$]=(R,S)=>{let q=R&&R[$];if(q)return q.call(R);throw new N(`Response type '${$}' is not supported`,N.ERR_NOT_SUPPORT,S)})});const A=async $=>{if($==null)return 0;if(g.isBlob($))return $.size;if(g.isSpecCompliantForm($))return(await new n(ue.origin,{method:"POST",body:$}).arrayBuffer()).byteLength;if(g.isArrayBufferView($)||g.isArrayBuffer($))return $.byteLength;if(g.isURLSearchParams($)&&($=$+""),g.isString($))return(await p($)).byteLength},I=async($,R)=>{const S=g.toFiniteNumber($.getContentLength());return S??A(R)};return async $=>{let{url:R,method:S,data:q,signal:z,cancelToken:B,timeout:H,onDownloadProgress:X,onUploadProgress:se,responseType:J,headers:ie,withCredentials:ae="same-origin",fetchOptions:M}=ms($),y=s||fetch;J=J?(J+"").toLowerCase():"text";let c=Bp([z,B&&B.toAbortSignal()],H),K=null;const ee=c&&c.unsubscribe&&(()=>{c.unsubscribe()});let F;try{if(se&&x&&S!=="get"&&S!=="head"&&(F=await I(ie,q))!==0){let k=new n(R,{method:"POST",body:q,duplex:"half"}),T;if(g.isFormData(q)&&(T=k.headers.get("content-type"))&&ie.setContentType(T),k.body){const[f,le]=Pt(F,Ke(Dt(se)));q=Ft(k.body,Nt,f,le)}}g.isString(ae)||(ae=ae?"include":"omit");const v=i&&"credentials"in n.prototype,re={...M,signal:c,method:S.toUpperCase(),headers:ie.normalize().toJSON(),body:q,duplex:"half",credentials:v?ae:void 0};K=i&&new n(R,re);let b=await(i?y(K,M):y(R,re));const l=m&&(J==="stream"||J==="response");if(m&&(X||l&&ee)){const k={};["status","statusText","headers"].forEach(Q=>{k[Q]=b[Q]});const T=g.toFiniteNumber(b.headers.get("content-length")),[f,le]=X&&Pt(T,Ke(Dt(X),!0))||[];b=new o(Ft(b.body,Nt,f,()=>{le&&le(),ee&&ee()}),k)}J=J||"text";let Y=await w[g.findKey(w,J)||"text"](b,$);return!l&&ee&&ee(),await new Promise((k,T)=>{cs(k,T,{data:Y,headers:fe.from(b.headers),status:b.status,statusText:b.statusText,config:$,request:K})})}catch(v){throw ee&&ee(),v&&v.name==="TypeError"&&/Load failed|fetch/i.test(v.message)?Object.assign(new N("Network Error",N.ERR_NETWORK,$,K),{cause:v.cause||v}):N.from(v,v&&v.code,$,K)}}},zp=new Map,fs=t=>{let s=t?t.env:{};const{fetch:n,Request:o,Response:r}=s,i=[o,r,n];let a=i.length,d=a,p,x,m=zp;for(;d--;)p=i[d],x=m.get(p),x===void 0&&m.set(p,x=d?new Map:Hp(s)),m=x;return x};fs();const ct={http:ip,xhr:Np,fetch:{get:fs}};g.forEach(ct,(t,s)=>{if(t){try{Object.defineProperty(t,"name",{value:s})}catch{}Object.defineProperty(t,"adapterName",{value:s})}});const qt=t=>`- ${t}`,Jp=t=>g.isFunction(t)||t===null||t===!1,gs={getAdapter:(t,s)=>{t=g.isArray(t)?t:[t];const{length:n}=t;let o,r;const i={};for(let a=0;a<n;a++){o=t[a];let d;if(r=o,!Jp(o)&&(r=ct[(d=String(o)).toLowerCase()],r===void 0))throw new N(`Unknown adapter '${d}'`);if(r&&(g.isFunction(r)||(r=r.get(s))))break;i[d||"#"+a]=r}if(!r){const a=Object.entries(i).map(([p,x])=>`adapter ${p} `+(x===!1?"is not supported by the environment":"is not available in the build"));let d=n?a.length>1?`since :
`+a.map(qt).join(`
`):" "+qt(a[0]):"as no adapter specified";throw new N("There is no suitable adapter to dispatch the request "+d,"ERR_NOT_SUPPORT")}return r},adapters:ct};function at(t){if(t.cancelToken&&t.cancelToken.throwIfRequested(),t.signal&&t.signal.aborted)throw new Me(null,t)}function It(t){return at(t),t.headers=fe.from(t.headers),t.data=it.call(t,t.transformRequest),["post","put","patch"].indexOf(t.method)!==-1&&t.headers.setContentType("application/x-www-form-urlencoded",!1),gs.getAdapter(t.adapter||yt.adapter,t)(t).then(function(o){return at(t),o.data=it.call(t,t.transformResponse,o),o.headers=fe.from(o.headers),o},function(o){return ds(o)||(at(t),o&&o.response&&(o.response.data=it.call(t,t.transformResponse,o.response),o.response.headers=fe.from(o.response.headers))),Promise.reject(o)})}const vs="1.12.2",ot={};["object","boolean","number","function","string","symbol"].forEach((t,s)=>{ot[t]=function(o){return typeof o===t||"a"+(s<1?"n ":" ")+t}});const Vt={};ot.transitional=function(s,n,o){function r(i,a){return"[Axios v"+vs+"] Transitional option '"+i+"'"+a+(o?". "+o:"")}return(i,a,d)=>{if(s===!1)throw new N(r(a," has been removed"+(n?" in "+n:"")),N.ERR_DEPRECATED);return n&&!Vt[a]&&(Vt[a]=!0,console.warn(r(a," has been deprecated since v"+n+" and will be removed in the near future"))),s?s(i,a,d):!0}};ot.spelling=function(s){return(n,o)=>(console.warn(`${o} is likely a misspelling of ${s}`),!0)};function Zp(t,s,n){if(typeof t!="object")throw new N("options must be an object",N.ERR_BAD_OPTION_VALUE);const o=Object.keys(t);let r=o.length;for(;r-- >0;){const i=o[r],a=s[i];if(a){const d=t[i],p=d===void 0||a(d,i,t);if(p!==!0)throw new N("option "+i+" must be "+p,N.ERR_BAD_OPTION_VALUE);continue}if(n!==!0)throw new N("Unknown option "+i,N.ERR_BAD_OPTION)}}const Ge={assertOptions:Zp,validators:ot},ve=Ge.validators;class Xe{constructor(s){this.defaults=s||{},this.interceptors={request:new Et,response:new Et}}async request(s,n){try{return await this._request(s,n)}catch(o){if(o instanceof Error){let r={};Error.captureStackTrace?Error.captureStackTrace(r):r=new Error;const i=r.stack?r.stack.replace(/^.+\n/,""):"";try{o.stack?i&&!String(o.stack).endsWith(i.replace(/^.+\n.+\n/,""))&&(o.stack+=`
`+i):o.stack=i}catch{}}throw o}}_request(s,n){typeof s=="string"?(n=n||{},n.url=s):n=s||{},n=Ce(this.defaults,n);const{transitional:o,paramsSerializer:r,headers:i}=n;o!==void 0&&Ge.assertOptions(o,{silentJSONParsing:ve.transitional(ve.boolean),forcedJSONParsing:ve.transitional(ve.boolean),clarifyTimeoutError:ve.transitional(ve.boolean)},!1),r!=null&&(g.isFunction(r)?n.paramsSerializer={serialize:r}:Ge.assertOptions(r,{encode:ve.function,serialize:ve.function},!0)),n.allowAbsoluteUrls!==void 0||(this.defaults.allowAbsoluteUrls!==void 0?n.allowAbsoluteUrls=this.defaults.allowAbsoluteUrls:n.allowAbsoluteUrls=!0),Ge.assertOptions(n,{baseUrl:ve.spelling("baseURL"),withXsrfToken:ve.spelling("withXSRFToken")},!0),n.method=(n.method||this.defaults.method||"get").toLowerCase();let a=i&&g.merge(i.common,i[n.method]);i&&g.forEach(["delete","get","head","post","put","patch","common"],$=>{delete i[$]}),n.headers=fe.concat(a,i);const d=[];let p=!0;this.interceptors.request.forEach(function(R){typeof R.runWhen=="function"&&R.runWhen(n)===!1||(p=p&&R.synchronous,d.unshift(R.fulfilled,R.rejected))});const x=[];this.interceptors.response.forEach(function(R){x.push(R.fulfilled,R.rejected)});let m,w=0,A;if(!p){const $=[It.bind(this),void 0];for($.unshift(...d),$.push(...x),A=$.length,m=Promise.resolve(n);w<A;)m=m.then($[w++],$[w++]);return m}A=d.length;let I=n;for(;w<A;){const $=d[w++],R=d[w++];try{I=$(I)}catch(S){R.call(this,S);break}}try{m=It.call(this,I)}catch($){return Promise.reject($)}for(w=0,A=x.length;w<A;)m=m.then(x[w++],x[w++]);return m}getUri(s){s=Ce(this.defaults,s);const n=ps(s.baseURL,s.url,s.allowAbsoluteUrls);return as(n,s.params,s.paramsSerializer)}}g.forEach(["delete","get","head","options"],function(s){Xe.prototype[s]=function(n,o){return this.request(Ce(o||{},{method:s,url:n,data:(o||{}).data}))}});g.forEach(["post","put","patch"],function(s){function n(o){return function(i,a,d){return this.request(Ce(d||{},{method:s,headers:o?{"Content-Type":"multipart/form-data"}:{},url:i,data:a}))}}Xe.prototype[s]=n(),Xe.prototype[s+"Form"]=n(!0)});const We=Xe;class ht{constructor(s){if(typeof s!="function")throw new TypeError("executor must be a function.");let n;this.promise=new Promise(function(i){n=i});const o=this;this.promise.then(r=>{if(!o._listeners)return;let i=o._listeners.length;for(;i-- >0;)o._listeners[i](r);o._listeners=null}),this.promise.then=r=>{let i;const a=new Promise(d=>{o.subscribe(d),i=d}).then(r);return a.cancel=function(){o.unsubscribe(i)},a},s(function(i,a,d){o.reason||(o.reason=new Me(i,a,d),n(o.reason))})}throwIfRequested(){if(this.reason)throw this.reason}subscribe(s){if(this.reason){s(this.reason);return}this._listeners?this._listeners.push(s):this._listeners=[s]}unsubscribe(s){if(!this._listeners)return;const n=this._listeners.indexOf(s);n!==-1&&this._listeners.splice(n,1)}toAbortSignal(){const s=new AbortController,n=o=>{s.abort(o)};return this.subscribe(n),s.signal.unsubscribe=()=>this.unsubscribe(n),s.signal}static source(){let s;return{token:new ht(function(r){s=r}),cancel:s}}}const Gp=ht;function Wp(t){return function(n){return t.apply(null,n)}}function Kp(t){return g.isObject(t)&&t.isAxiosError===!0}const pt={Continue:100,SwitchingProtocols:101,Processing:102,EarlyHints:103,Ok:200,Created:201,Accepted:202,NonAuthoritativeInformation:203,NoContent:204,ResetContent:205,PartialContent:206,MultiStatus:207,AlreadyReported:208,ImUsed:226,MultipleChoices:300,MovedPermanently:301,Found:302,SeeOther:303,NotModified:304,UseProxy:305,Unused:306,TemporaryRedirect:307,PermanentRedirect:308,BadRequest:400,Unauthorized:401,PaymentRequired:402,Forbidden:403,NotFound:404,MethodNotAllowed:405,NotAcceptable:406,ProxyAuthenticationRequired:407,RequestTimeout:408,Conflict:409,Gone:410,LengthRequired:411,PreconditionFailed:412,PayloadTooLarge:413,UriTooLong:414,UnsupportedMediaType:415,RangeNotSatisfiable:416,ExpectationFailed:417,ImATeapot:418,MisdirectedRequest:421,UnprocessableEntity:422,Locked:423,FailedDependency:424,TooEarly:425,UpgradeRequired:426,PreconditionRequired:428,TooManyRequests:429,RequestHeaderFieldsTooLarge:431,UnavailableForLegalReasons:451,InternalServerError:500,NotImplemented:501,BadGateway:502,ServiceUnavailable:503,GatewayTimeout:504,HttpVersionNotSupported:505,VariantAlsoNegotiates:506,InsufficientStorage:507,LoopDetected:508,NotExtended:510,NetworkAuthenticationRequired:511};Object.entries(pt).forEach(([t,s])=>{pt[s]=t});const Xp=pt;function bs(t){const s=new We(t),n=Wt(We.prototype.request,s);return g.extend(n,We.prototype,s,{allOwnKeys:!0}),g.extend(n,s,null,{allOwnKeys:!0}),n.create=function(r){return bs(Ce(t,r))},n}const oe=bs(yt);oe.Axios=We;oe.CanceledError=Me;oe.CancelToken=Gp;oe.isCancel=ds;oe.VERSION=vs;oe.toFormData=st;oe.AxiosError=N;oe.Cancel=oe.CanceledError;oe.all=function(s){return Promise.all(s)};oe.spread=Wp;oe.isAxiosError=Kp;oe.mergeConfig=Ce;oe.AxiosHeaders=fe;oe.formToJSON=t=>us(g.isHTMLForm(t)?new FormData(t):t);oe.getAdapter=gs.getAdapter;oe.HttpStatusCode=Xp;oe.default=oe;const O=oe;window.axios=O;window.axios.defaults.headers.common["X-Requested-With"]="XMLHttpRequest";window.axios.defaults.baseURL="/api";window.axios.interceptors.request.use(t=>{const s=localStorage.getItem("auth_token");return s&&(t.headers.Authorization=`Bearer ${s}`),t},t=>Promise.reject(t));window.axios.interceptors.response.use(t=>t,t=>{var s,n,o;return((s=t.response)==null?void 0:s.status)===401&&(localStorage.removeItem("auth_token"),localStorage.removeItem("auth_user"),window.location.href="/login"),((n=t.response)==null?void 0:n.status)===429&&window.addToast("Trop de requêtes. Veuillez patienter.","warning"),((o=t.response)==null?void 0:o.status)>=500&&window.addToast("Erreur serveur. Veuillez réessayer.","error"),Promise.reject(t)});window.auth={login:async(t,s,n=!1)=>{try{const o=await O.post("/auth/login",{email:t,password:s,remember:n}),{token:r,membre:i}=o.data;return localStorage.setItem("auth_token",r),localStorage.setItem("auth_user",JSON.stringify(i)),o.data}catch(o){throw o}},logout:async()=>{try{await O.post("/auth/logout")}catch(t){console.error("Erreur lors de la déconnexion:",t)}finally{localStorage.removeItem("auth_token"),localStorage.removeItem("auth_user")}},getCurrentUser:()=>{const t=localStorage.getItem("auth_user");return t?JSON.parse(t):null},isAuthenticated:()=>!!localStorage.getItem("auth_token"),refreshToken:async()=>{try{const t=await O.post("/auth/refresh"),{token:s}=t.data;return localStorage.setItem("auth_token",s),s}catch(t){throw window.auth.logout(),t}}};window.notifications={show:(t,s="info",n=5e3)=>{window.addToast?window.addToast(t,s):console.log(`[${s.toUpperCase()}] ${t}`)},success:t=>window.notifications.show(t,"success"),error:t=>window.notifications.show(t,"error"),warning:t=>window.notifications.show(t,"warning"),info:t=>window.notifications.show(t,"info")};window.formatters={currency:(t,s="XOF")=>new Intl.NumberFormat("fr-FR",{style:"currency",currency:s,minimumFractionDigits:0}).format(t),date:(t,s={})=>{const n={day:"numeric",month:"short",year:"numeric"};return new Date(t).toLocaleDateString("fr-FR",{...n,...s})},dateTime:t=>new Date(t).toLocaleDateString("fr-FR",{day:"numeric",month:"short",year:"numeric",hour:"2-digit",minute:"2-digit"}),percentage:(t,s=2)=>`${parseFloat(t).toFixed(s)}%`};window.api={get:(t,s={})=>O.get(t,{params:s}),post:(t,s={})=>O.post(t,s),put:(t,s={})=>O.put(t,s),delete:t=>O.delete(t),dashboard:{getData:(t=30)=>O.get("/dashboard",{params:{periode:t}}),getStatistiques:(t=30)=>O.get("/dashboard/statistiques",{params:{periode:t}}),getAlertesCritiques:()=>O.get("/dashboard/alertes-critiques"),getActivitesEnCours:()=>O.get("/dashboard/activites-en-cours")},membres:{getAll:(t={})=>O.get("/membres",{params:t}),getById:t=>O.get(`/membres/${t}`),create:t=>O.post("/membres",t),update:(t,s)=>O.put(`/membres/${t}`,s),delete:t=>O.delete(`/membres/${t}`),search:t=>O.get("/membres/search",{params:{q:t}}),getStatistiques:t=>O.get(`/membres/${t}/statistiques`),getHistorique:(t,s=30)=>O.get(`/membres/${t}/historique`,{params:{periode:s}}),export:(t,s="pdf")=>O.get(`/membres/${t}/export`,{params:{format:s}})},activites:{getAll:(t={})=>O.get("/activites",{params:t}),getById:t=>O.get(`/activites/${t}`),create:t=>O.post("/activites",t),update:(t,s)=>O.put(`/activites/${t}`,s),delete:t=>O.delete(`/activites/${t}`),getPresences:t=>O.get(`/activites/${t}/presences`),marquerPresence:(t,s)=>O.post(`/activites/${t}/marquer-presence`,s),getStatistiques:t=>O.get(`/activites/${t}/statistiques`)},evenements:{getAll:(t={})=>O.get("/evenements",{params:t}),getById:t=>O.get(`/evenements/${t}`),create:t=>O.post("/evenements",t),update:(t,s)=>O.put(`/evenements/${t}`,s),delete:t=>O.delete(`/evenements/${t}`),getParticipants:t=>O.get(`/evenements/${t}/participants`),ajouterParticipant:(t,s)=>O.post(`/evenements/${t}/ajouter-participant`,s),retirerParticipant:(t,s)=>O.delete(`/evenements/${t}/retirer-participant`,{data:s}),getStatistiques:t=>O.get(`/evenements/${t}/statistiques`)},alertes:{getAll:(t={})=>O.get("/alertes",{params:t}),getById:t=>O.get(`/alertes/${t}`),create:t=>O.post("/alertes",t),update:(t,s)=>O.put(`/alertes/${t}`,s),delete:t=>O.delete(`/alertes/${t}`),marquerCommeLue:t=>O.post(`/alertes/${t}/marquer-lue`),resoudre:t=>O.post(`/alertes/${t}/resoudre`),getRegles:()=>O.get("/alertes/regles"),createRegle:t=>O.post("/alertes/regles",t),updateRegle:(t,s)=>O.put(`/alertes/regles/${t}`,s),deleteRegle:t=>O.delete(`/alertes/regles/${t}`)}};window.appConfig={name:"Gestion Kourel",version:"1.0.0",apiUrl:"/api",uploadMaxSize:2048,supportedImageTypes:["jpeg","png","jpg","gif"],dateFormat:"DD/MM/YYYY",timeFormat:"HH:mm",currency:"XOF",locale:"fr-FR"};console.log("🚀 Gestion Kourel - Application initialisée");console.log("📊 Dashboard moderne avec Vue.js 3 + Laravel");console.log("🔐 Authentification sécurisée avec Sanctum");console.log("📱 Interface responsive et moderne");const Yp=[{path:"/",component:Wn,name:"dashboard"},{path:"/membres",component:Zo,name:"membres"},{path:"/cotisations",component:wi,name:"cotisations"},{path:"/activites",component:$l,name:"activites"},{path:"/evenements",component:Cd,name:"evenements"},{path:"/alertes",component:h0,name:"alertes"}],Qp=ys({history:hs(),routes:Yp}),xs=_s(Zs);xs.use(Qp);xs.mount("#app");
